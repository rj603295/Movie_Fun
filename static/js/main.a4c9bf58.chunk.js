(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(n,e,t){"use strict";t.r(e);var i,c,a,o,r,s,d,l,b=t(0),j=t.n(b),u=t(44),h=t.n(u),p=(t(71),t(10)),m=t(17),x=t(19),g=(t(72),t(73),t(8)),O=t(9),f=function(n){return fetch("https://www.omdbapi.com/?i=".concat(n,"&apikey=2edf5c13&tomatoes=true")).then((function(n){return n.json()}))},v=function(n){return fetch("https://api.themoviedb.org/3/movie/".concat(n,"/external_ids?api_key=2be0c0fc4fb985246d2226af126346c2")).then((function(n){return n.json()}))},w=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://api.themoviedb.org/3/search/multi?api_key=2be0c0fc4fb985246d2226af126346c2&language=zh-TW&query=".concat(n,"&page=").concat(e)).then((function(n){return n.json()}))},y=function(n){return fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=2be0c0fc4fb985246d2226af126346c2&language=zh-TW&append_to_response=keywords,external_ids")).then((function(n){return n.json()}))},k=function(){return fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=2be0c0fc4fb985246d2226af126346c2&language=zh-TW").then((function(n){return n.json()}))},_=function(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=2be0c0fc4fb985246d2226af126346c2&language=en-US").then((function(n){return n.json()}))},S=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://api.themoviedb.org/3/discover/movie?api_key=2be0c0fc4fb985246d2226af126346c2&language=en-US&region=TW&with_genres=".concat(n,"&page=").concat(e)).then((function(n){return n.json()}))},C=function(n){return fetch("https://api.themoviedb.org/3/person/".concat(n,"?api_key=2be0c0fc4fb985246d2226af126346c2&language=zh-TW&append_to_response=images,tagged_images")).then((function(n){return n.json()}))},z=t(20),R=t(28),D=t(22),W=Object(b.createContext)(null),N=function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},M=t(1),L=O.a.div(i||(i=Object(g.a)(["\n  align-items: center;\n  height: auto;\n  background-color: white;\n  width: 100%;\n  padding-top: 20px;\n  color: white;\n  position: fixed;\n  top: 0;\n  z-index: 99;\n  background: transparent;\n  transition: all .4s ease-in-out;\n  .RWD-S{\n    display: none;\n  }\n\n  @media (max-width: 415px) {\n    .RWD-S{\n      display: block;\n    } \n  }\n"]))),T=Object(O.a)(m.b)(c||(c=Object(g.a)(["\n  display: block;\n  font-size: 1.1rem;\n  font-weight: bold;\n  text-decoration: none;\n  color: white;\n  @media (max-width: 415px) {\n    font-size: 2.5rem;\n    margin-left: 20px; \n  }\n"]))),I=O.a.div(a||(a=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  width: 30%;\n  color: white;\n  .ham{\n    display: none;\n  }\n  @media (max-width: 415px) {\n   .ham{\n     display: inline-block;\n   }\n   .RWD-L{\n     display: none;\n   }\n  }\n"]))),E=Object(O.a)(m.b)(o||(o=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  box-sizing: border-box;\n  width: 30%;\n  cursor: pointer;\n  color: white;\n  text-decoration: none;\n  font-size: 0.47rem;\n  ","\n  @media (max-width: 415px) {\n    font-size: 2.5rem;\n    width: 50%;\n  }\n"])),(function(n){return n.$active&&"\n    background: rgba(0, 0, 0, 0.1)\n  "})),U=O.a.div(r||(r=Object(g.a)(["\n  display: flex;\n  max-width: 80%;\n  margin: 0 auto;\n  justify-content: space-between;\n  align-items: center;\n  @media (max-width: 415px) {\n    max-width: 95%;\n    .RWD-L{\n      display: none;\n    } \n  }\n"]))),H=O.a.div(s||(s=Object(g.a)(["\n  position: relative;\n  width: 30%;\n  input{\n    display: block;\n    height: 60%;\n    border-radius: 30px;\n    outline: none;\n    padding: 3% 0;\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    font-size: 0.5rem;\n    text-indent: 10px;\n  }\n  input, textarea {\n\n    font-size: initial;\n    \n    }\n  @media (max-width: 415px) {\n    width: 90%;\n    margin: 0 auto;\n    input{\n      color: white;\n      background: transparent;\n      border: none;\n      border-bottom: 1px solid white;\n      border-radius: 0;\n    }\n    input::placeholder{\n      color: white;\n    }\n  }\n"]))),P=O.a.button(d||(d=Object(g.a)(["\n  font-size: 0.5rem;\n  position: absolute;\n  right: 2%;\n  top:50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  @media (max-width: 415px) {\n    position: static;\n    color: white;\n    font-size: 2rem;\n    .RWD-S{\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100%;\n    }\n  }\n"]))),B=O.a.div(l||(l=Object(g.a)(["\n  text-align: center;\n  position: absolute;\n  right: 2%;\n  margin-top: 3%;\n  text-align: center;\n  transition: all 0.5s ease-in;\n  border-radius: 10px;\n  background: white;\n  display: none;\n  flex-direction: column;\n  align-items: center;\n  width: 25%;\n  a{\n    display: block;\n    color: black;\n    font-size: 0.5rem;\n    margin: 5% 0;\n    svg{\n      font-size: 1.5rem;\n    }\n  }\n  .RWD-S{\n    display: none;\n  }\n  @media (max-width: 415px) {\n    display: flex;\n    color: black;\n    a{\n      font-size: 14px;\n    }\n\n    .RWD-S{\n      display: block;\n    } \n  }\n"])));function A(n){var e=n.isHide,t=Object(x.h)(),i=Object(x.g)(),c=Object(b.useState)(""),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)(!1),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useState)(!1),h=Object(p.a)(u,2),m=h[0],g=h[1],O=Object(b.useContext)(W),f=O.user,v=O.setUser,y=Object(b.useRef)();Object(b.useEffect)((function(){y.current=N()}),[]);var k=function(n){"Enter"===n.key&&(r(""),w(o).then((function(){i.push("/search/movie/".concat(o))})),g(!1))},_=function(n){r(n.target.value)},S=function(){var n=Object(D.c)();Object(D.g)(n).then((function(){v(null)})).catch((function(n){return n}))};return Object(b.useEffect)((function(){!0===e&&j(!1)}),[e]),Object(M.jsxs)(L,{style:y.current?{top:"0px"}:{top:e?"-200px":"0px"},children:[Object(M.jsxs)(U,{children:[Object(M.jsx)(T,{onClick:function(){"/"===t.pathname&&window.scrollTo(0,0)},to:"/",children:"Fun\u96fb\u5f71"}),Object(M.jsxs)(H,{className:"RWD-L",children:[Object(M.jsx)("input",{onChange:function(n){_(n)},onKeyPress:function(n){k(n)},placeholder:"\u641c\u5c0b\u60a8\u60f3\u8981\u7684\u96fb\u5f71, \u4eba\u7269....",value:o}),Object(M.jsx)(P,{onClick:function(){r(""),w(o).then((function(){i.push("/search/movie/".concat(o))}))},children:Object(M.jsx)(z.a,{icon:R.d})})]}),Object(M.jsxs)(I,{children:[Object(M.jsx)(E,{$active:"/about"===t.pathname,className:"RWD-L",to:"/about",children:"about"}),!f&&Object(M.jsx)(E,{className:"RWD-L",to:"/login",children:"\u767b\u5165"}),f&&Object(M.jsx)(E,{className:"RWD-L",onClick:S,to:"/login",children:"\u767b\u51fa"}),Object(M.jsx)(E,{className:"RWD-L",to:"/member",children:Object(M.jsx)(z.a,{icon:R.f})}),Object(M.jsx)(E,{className:"RWD-S",onClick:function(n){n.preventDefault(),j(!1),g(!m)},to:"",children:Object(M.jsx)(z.a,{icon:R.d})}),Object(M.jsx)(E,{className:"ham",onClick:function(n){n.preventDefault(),j(!l),g(!1)},to:"",children:Object(M.jsx)(z.a,{icon:R.a})})]})]}),Object(M.jsxs)(B,{style:{right:l?"1%":"-200px"},children:[!f&&Object(M.jsx)(E,{to:"/login",children:"\u767b\u5165"}),f&&Object(M.jsx)(E,{onClick:S,to:"/login",children:"\u767b\u51fa"}),Object(M.jsx)(E,{to:"/member",children:Object(M.jsx)(z.a,{icon:R.f})}),Object(M.jsx)(E,{$active:"/about"===t.pathname,to:"/about",children:"about"})]}),Object(M.jsx)(H,{className:"RWD-S",children:m&&Object(M.jsx)("input",{onChange:function(n){_(n)},onKeyPress:function(n){k(n)},placeholder:"\u641c\u5c0b\u60a8\u60f3\u8981\u7684\u96fb\u5f71, \u4eba\u7269....",value:o})})]})}var F=j.a.memo(A,(function(n,e){return n.isHide===e.isHide})),G=t(2),$=t.n(G),V=t(16),q=t(4),K=t(11),Y=(t(82),function(n){var e=n.children;return Object(M.jsx)("div",{children:e})}),J="CAROUSEL_ITEM",X=function(n){var e=n.cols,t=void 0===e?1:e,i=n.gap,c=void 0===i?10:i,a=n.children,o=Object(b.useState)(0),r=Object(p.a)(o,2),s=r[0],d=r[1],l=0,u=0,h=0,m=0,x=j.a.Children.toArray(a).filter((function(n){return n.type.displayName===J})),g=x.reduce((function(n,e,i){return i%t===0?n.push([Object(M.jsx)(Y,{children:e},i)]):n[n.length-1].push(Object(M.jsx)(Y,{children:e},i)),n}),[]),O=Math.ceil(x.length/t),f=Object(b.useCallback)((function(){d((function(n){return n-1}))}),[]),v=Object(b.useCallback)((function(){d((function(n){return n+1}))}),[]);return Object(M.jsxs)("div",{className:"Carousel",onTouchEnd:function(n){return function(){var n=h-l,e=m-u;console.log("X",n),n>0&&Math.abs(n)>Math.abs(e)?(s>0&&d((function(n){return n-1})),console.log("\u5411\u53f3")):n<0&&Math.abs(n)>Math.abs(e)?(console.log("\u5411\u5de6"),s!==O-1&&d((function(n){return n+1}))):e>0&&Math.abs(e)>Math.abs(n)?console.log("\u5411\u4e0b"):e<0&&Math.abs(e)>Math.abs(n)?console.log("\u5411\u4e0a"):console.log("\u6ca1\u6709")}()},onTouchMove:function(n){return function(n){console.log("move",n.touches[0].pageX),h=n.touches[0].pageX,m=n.touches[0].pageY}(n)},onTouchStart:function(n){return function(n){l=n.touches[0].pageX,u=n.touches[0].pageY}(n)},children:[Object(M.jsx)("span",{className:"Carousel__btn--prev",hidden:s<=0,onClick:f}),Object(M.jsx)("div",{className:"Carousel__railWrapper",children:Object(M.jsx)("div",{className:"Carousel__rail",style:{gridTemplateColumns:"repeat(".concat(O,", 100%)"),left:"calc(".concat(-100*s,"% - ").concat(c*s,"px)"),gridColumnGap:"".concat(c,"px")},children:g.map((function(n,e){return Object(M.jsx)("div",{className:"Carousel__ItemSet",style:{display:"grid",gridTemplateColumns:"repeat(".concat(t,", 1fr)"),gridGap:"".concat(c,"px")},children:n},e)}))})}),Object(M.jsx)("span",{className:"Carousel__btn--next",hidden:s===O-1,onClick:v})]})};(X.Item=function(n){return n.children}).displayName=J;var Z,Q,nn=X,en=O.a.div(Z||(Z=Object(g.a)(["\n  display: grid;\n  grid-template-columns: 30% 30% 30%;\n  align-items: end;\n  list-style-type:none;\n  li{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 2%;\n    img{\n      margin: 0 auto;\n    }\n    .logo{\n      width: 60%;\n    }\n    .T_logo{\n      padding: 6%;\n    }\n    .M_logo{\n      padding: 8%;\n    }\n  }\n  @media (max-width: 415px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: cetner;\n    li{\n      .logo{\n        width: 50%;\n      }\n      .T_logo{\n        padding: 3%;\n      }\n      .M_logo{\n        padding: 5%;\n      }\n    }\n\n  }\n"]))),tn=O.a.span(Q||(Q=Object(g.a)(["\n  display: inline-block;\n  font-size: 18px;\n"])));function cn(n){var e=n.Ratings,t=n.logoWidth,i=void 0===t?"75px":t,c="",a="",o="";if(e)for(var r=0;r<e.length;r++)"Internet Movie Database"===e[r].Source&&(c=e[r].Value),"Rotten Tomatoes"===e[r].Source&&(a=e[r].Value),"Metacritic"===e[r].Source&&(o=e[r].Value);return Object(M.jsxs)(en,{logoWidth:i,children:[Object(M.jsxs)("li",{children:[Object(M.jsx)("div",{className:"logo",children:Object(M.jsx)("img",{alt:"",className:"logo I_logo",src:"https://upload.wikimedia.org/wikipedia/commons/6/69/IMDB_Logo_2016.svg"})}),Object(M.jsx)(tn,{children:""!==c?c:"None"})]}),Object(M.jsxs)("li",{children:[Object(M.jsx)("div",{className:"logo",children:Object(M.jsx)("img",{alt:"",className:"logo T_logo",src:"https://upload.wikimedia.org/wikipedia/commons/6/6f/Rotten_Tomatoes_logo.svg"})}),Object(M.jsx)(tn,{children:""!==a?a:"None"})]}),Object(M.jsxs)("li",{children:[Object(M.jsx)("div",{className:"logo",children:Object(M.jsx)("img",{alt:"",className:"logo M_logo",src:"https://upload.wikimedia.org/wikipedia/commons/4/48/Metacritic_logo.svg"})}),Object(M.jsx)(tn,{children:""!==o?o:"None"})]})]})}var an,on,rn,sn,dn,ln,bn,jn=t.p+"static/media/ZZ5H.a1a99674.gif",un=O.a.div(an||(an=Object(g.a)(["\n  background: rgba(255, 255, 255, 1);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 99999;\n  img{\n    height: 30px;\n    width: 30px;\n  }\n"]))),hn=O.a.div(on||(on=Object(g.a)(["\n  position: absolute;\n  top:40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));function pn(n){var e=n.isLoading,t=void 0!==e&&e;return Object(M.jsx)("div",{children:t&&Object(M.jsx)(un,{children:Object(M.jsx)(hn,{children:Object(M.jsx)("img",{alt:"",src:jn})})})})}var mn=O.a.div(rn||(rn=Object(g.a)(["\n  height: 100%;\n  width: 100%;\n"]))),xn=Object(O.a)(m.b)(sn||(sn=Object(g.a)(["\n  display: flex;\n  height: auto;\n  width: 100%; \n  align-items: end;\n  justify-content: end;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n  padding: 80.63% 0;\n"]))),gn=O.a.div(dn||(dn=Object(g.a)(["\n  text-align: left;\n  background: white;\n  color: black;\n  list-style: none;\n  border-radius: 5px;\n  border: 3px solid grey;\n  font-size: 0.5rem;\n  font-weight: bold;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 30%;\n  margin-right: 0;\n  .logo{\n    width: 30%;\n  }\n  .I_logo{\n    padding: 8%;\n  }\n  li{\n    display: flex;\n    align-items: center;\n  }\n  @media (max-width: 1200px) {\n    width: 45%;\n  }\n  @media (max-width: 415px) {\n    width: 55%;\n    margin-right: 0;\n    font-size: 14px;\n    .logo{\n      width: 30%;\n    }\n  }\n"]))),On=O.a.div(ln||(ln=Object(g.a)(["\n  svg{\n    display: block;\n    color: white;\n    font-weight: bold;\n    font-size: 1rem;\n    box-sizing: border-box;\n    position: absolute;\n    top: 1%;\n    right: 1%;\n    background: grey;\n    border: 3px solid grey;\n    border-radius: 50%;\n  }\n  &:hover{\n    \n  }\n  @media (max-width: 815px) {\n    svg{\n      font-size: 1.7rem\n    }\n  }\n  @media (max-width: 415px) {\n    svg{\n      font-size: 3.5rem\n    }\n  }\n"]))),fn=O.a.span(bn||(bn=Object(g.a)(["\n  display: inline-block;\n  font-size: 12px;\n"])));function vn(n){var e=n.movie,t=n.rating,i=n.isRating,c=void 0!==i&&i,a=n.isRatingLoading,o=void 0!==a&&a,r="https://image.tmdb.org/t/p/w500".concat(e.poster_path),s=e.id,d=Object(b.useContext)(W).user,l=Object(b.useContext)(W).userFavorite,j=Object(K.b)(),u=[];null!==l&&0!==Object.keys(l).length&&(u=Object.keys(l));var h="",p="",m="";if(t)for(var x=0;x<t.length;x++)"Internet Movie Database"===t[x].Source&&(h=t[x].Value),"Rotten Tomatoes"===t[x].Source&&(p=t[x].Value),"Metacritic"===t[x].Source&&(m=t[x].Value);return Object(M.jsx)(mn,{children:Object(M.jsxs)(xn,{style:{backgroundImage:e.poster_path?'url("'.concat(r,'")'):'url("https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg")'},to:"/movie/".concat(s),children:[d&&Object(M.jsx)(On,{onClick:function(n){if(n.preventDefault(),d&&u.includes(s.toString()))Object(K.j)(Object(K.i)(j,"favorite/"+d.uid),(function(n){return console.log("hello1"),n&&(n["".concat(s)]=null),n}));else if(d&&!u.includes(s.toString())){var e;if(Object(K.d)(Object(K.i)(j,"favorite/"+d.uid),(function(n){var t=n.val();e=t})),e)Object(K.j)(Object(K.i)(j,"favorite/"+d.uid),(function(n){return n&&(0===u.length&&(n["".concat(s)]={}),n["".concat(s)]=1),n}));else{var t={};t["".concat(s)]=1,Object(K.k)(Object(K.i)(j,"favorite/"+d.uid),t)}}},children:u.includes(s.toString())?Object(M.jsx)(z.a,{icon:R.b}):Object(M.jsx)(z.a,{icon:R.c})}),c&&Object(M.jsxs)(gn,{children:[Object(M.jsx)(pn,{isLoading:o}),Object(M.jsxs)("li",{children:[Object(M.jsx)("img",{alt:"",className:"logo I_logo",src:"https://upload.wikimedia.org/wikipedia/commons/6/69/IMDB_Logo_2016.svg"}),Object(M.jsx)(fn,{children:""!==h?h:"None"})]}),Object(M.jsxs)("li",{children:[Object(M.jsx)("img",{alt:"",className:"logo T_logo",src:"https://upload.wikimedia.org/wikipedia/commons/6/6f/Rotten_Tomatoes_logo.svg"}),Object(M.jsx)(fn,{children:""!==p?p:"None"})]}),Object(M.jsxs)("li",{children:[Object(M.jsx)("img",{alt:"",className:"logo M_logo",src:"https://upload.wikimedia.org/wikipedia/commons/4/48/Metacritic_logo.svg"}),Object(M.jsx)(fn,{children:""!==m?m:"None"})]})]})]})})}var wn,yn,kn=j.a.memo(vn,(function(n,e){return n.isRatingLoading===e.isRatingLoading})),_n=Object(O.a)(m.b)(wn||(wn=Object(g.a)(["\n  display: inline-block;\n  width: 100%;\n  padding: 70% 0;\n  margin-right: 5%;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  @media (max-width: 415px) {\n    \n  }\n"]))),Sn=O.a.p(yn||(yn=Object(g.a)(["\n  color: white;\n  font-size: 0.5rem;\n  @media(max-width: 415px) {\n    font-size: 14px;\n  }\n"])));function Cn(n){var e=n.person,t=n.isName,i=void 0===t||t;return Object(M.jsxs)("div",{children:[Object(M.jsx)(_n,{style:{backgroundImage:e.profile_path?'url("https://image.tmdb.org/t/p/w500'.concat(e.profile_path,'")'):'url("https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg")'},to:"/credit/".concat(e.id)}),i&&Object(M.jsx)(Sn,{children:e.name})]})}var zn,Rn,Dn,Wn,Nn,Mn,Ln,Tn,In,En,Un,Hn,Pn,Bn=t.p+"static/media/giphy.4d579986.gif",An=O.a.div(zn||(zn=Object(g.a)(["\n  background: rgba(0, 0, 0, 0.95);\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 99999;\n  img{\n    height: 150px;\n    width: 150px;\n  }\n"]))),Fn=O.a.div(Rn||(Rn=Object(g.a)(["\n  position: absolute;\n  top:40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));function Gn(n){var e=n.isLoading,t=void 0===e||e;return Object(M.jsx)("div",{children:t&&Object(M.jsx)(An,{children:Object(M.jsx)(Fn,{children:Object(M.jsx)("img",{alt:"",src:Bn})})})})}var $n,Vn,qn,Kn,Yn,Jn,Xn,Zn,Qn,ne,ee,te,ie,ce,ae,oe=O.a.div(Dn||(Dn=Object(g.a)(["\n  min-width: 70%;\n  margin: 0 auto;\n  p{\n    text-align: left;\n  }\n  margin-bottom: 40px;\n  textarea{\n    width: 85%;\n    height: 100px;\n    margin-top: 20px;\n  }\n  input, textarea{\n    font-size: ","\n  }\n  @media (max-width: 415px) {\n    min-width: 85%;\n\n  }\n"])),(function(n){return n.isMobileDevice?"initial":""})),re=O.a.div(Wn||(Wn=Object(g.a)(["\n\n  h2{\n    cursor: pointer;\n  }\n  @media (max-width: 415px) {\n    display: block;\n    \n  }\n"]))),se=O.a.div(Nn||(Nn=Object(g.a)(["\n  font-size: 0.5rem;\n  box-sizing: border-box;\n  width: 100%;\n  margin: 0 auto;\n  @media (max-width: 813px) {\n\n    font-size: 0.8rem\n  }\n  @media (max-width: 415px) {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 2rem;\n  }\n"]))),de=O.a.span(Mn||(Mn=Object(g.a)(["\n  \n"]))),le=O.a.span(Ln||(Ln=Object(g.a)(["\n  cursor: pointer;\n  display: block;\n  border: 3px solid #acb9cc;\n  box-sizing: border-box;\n  border-radius: 8px;\n  padding: 8% 0;\n  width: 100%;\n  &:hover{\n    background: #edf0f9;\n    color: black;\n  }\n  @media (max-width: 415px) {\n    padding: 8% 2%;\n  }\n"]))),be=O.a.div(Tn||(Tn=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 0.4rem;\n  display: grid;\n  grid-template-columns: ",";\n  button{\n    margin-right: 20px;\n  }\n  h2{\n    display: -webkit-box;\n    overflow:hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    -webkit-line-clamp: 4;\n    -webkit-box-orient: vertical;\n    white-space: normal;\n  }\n  @media (max-width: 415px) {\n    font-size: 14px;\n    display: grid;\n    grid-template-columns: ",";\n  }\n"])),(function(n){return n.column}),(function(n){return n.RWDS_column})),je=Object(O.a)(m.b)(In||(In=Object(g.a)(["\n  display: block;\n  width: 200px;\n  height: 100px;\n  width: 100%;\n  height: auto;\n  padding: 68% 0;\n\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  @media (max-width: 415px) {\n    width: 100%;\n  }\n"]))),ue=O.a.div(En||(En=Object(g.a)(["\n@media (max-width: 415px) {\n  \n}\n"]))),he=O.a.div(Un||(Un=Object(g.a)(["\n  text-align: left;\n  margin-left: ",";\n  span{\n    display: inline-block;\n    font-size: 12px;\n  }\n  h2{\n    margin-bottom: 5%;\n  }\n  input{\n    display: block;\n  }\n"])),(function(n){return n.TitleMargin})),pe=O.a.div(Hn||(Hn=Object(g.a)(["\n  margin-top: 3%;\n"]))),me=O.a.p(Pn||(Pn=Object(g.a)(["\n  font-size: 0.4rem;\n  margin: 0 auto;\n  margin-top: 4%;\n  line-height: 1.5;\n  @media (max-width: 415px) {\n    font-size: 14px;\n  }\n"])));function xe(n){var e=n.comment,t=n.handleCommentOpen,i=n.isPosterOpen,c=void 0!==i&&i,a=n.isThumbsUpOpen,o=void 0===a||a,r=Object(b.useContext)(W).user,s=Object(x.g)(),d=Object(b.useState)(null),l=Object(p.a)(d,2),j=l[0],u=l[1],h=Object(b.useState)(!1),m=Object(p.a)(h,2),g=m[0],O=m[1],f=Object(b.useState)(""),v=Object(p.a)(f,2),w=v[0],k=v[1],_=Object(b.useState)(""),S=Object(p.a)(_,2),C=S[0],D=S[1],L=[];e.thumbs_up_user&&(L=Object.keys(e.thumbs_up_user)),Object(b.useEffect)((function(){y(e.movie_id).then((function(n){u(n)}))}),[e.movie_id]);var T=function(){var n=Object(K.b)();r||s.push("/login"),r&&L.includes(r.uid)?Object(K.j)(Object(K.i)(n,"comments/"+e.id),(function(n){return n&&(n.thumbs_up--,n.thumbs_up_user[r.uid]=null),n})):r&&!L.includes(r.uid)&&Object(K.j)(Object(K.i)(n,"comments/"+e.id),(function(n){return n&&(n.thumbs_up++,0===L.length&&(n.thumbs_up_user={}),n.thumbs_up_user[r.uid]=1),n}))};return Object(M.jsxs)(oe,{isMobileDevice:N(),children:[Object(M.jsx)(re,{children:Object(M.jsxs)(be,{RWDS_column:c?"20% 65% 15%":"80% 20%",column:c?"10% 80% 10%":"90% 10%",children:[c&&j&&Object(M.jsx)(je,{style:{backgroundImage:"url('https://image.tmdb.org/t/p/w500".concat(j.poster_path,"')")},to:"movie/".concat(e.movie_id)}),Object(M.jsxs)(he,{TitleMargin:c?"10%":"0",children:[!g&&Object(M.jsx)("h2",{onClick:function(){return t(e.id)},children:e.title}),g&&Object(M.jsx)("input",{onChange:function(n){!function(n){k(n.target.value)}(n)},type:"text",value:w}),Object(M.jsxs)("span",{children:[Object(M.jsx)("span",{children:e.display_name})," \uff0d\u767c\u5e03\u65bc",Object(M.jsx)(de,{children:e.date})]}),r&&r.uid===e.uid&&Object(M.jsxs)(pe,{children:[Object(M.jsx)("button",{onClick:function(){O(!0),k(e.title),D(e.content)},children:"\u7de8\u8f2f"}),Object(M.jsx)("button",{onClick:function(){var n=Object(K.b)();window.confirm("\u78ba\u5b9a\u8981\u522a\u9664\u7559\u8a00\uff1f")&&Object(K.k)(Object(K.i)(n,"comments/"+e.id),{})},children:"\u522a\u9664"})]})]}),Object(M.jsx)(se,{children:o&&(r&&L.includes(r.uid)?Object(M.jsxs)(le,{className:"thumbs_up",onClick:T,children:[Object(M.jsx)(z.a,{icon:R.e})," ",e.thumbs_up]}):Object(M.jsxs)(le,{onClick:T,children:[Object(M.jsx)(z.a,{icon:R.e})," ",e.thumbs_up]}))})]})}),!e.isHide&&!g&&Object(M.jsx)(me,{children:e.content}),g&&Object(M.jsx)("textarea",{onChange:function(n){!function(n){D(n.target.value)}(n)},type:"text",value:C}),g&&Object(M.jsxs)(ue,{children:[Object(M.jsx)("button",{onClick:function(){var n=Object(K.b)();Object(K.l)(Object(K.i)(n,"comments/"+e.id),{title:w,content:C}),O(!1)},children:"\u78ba\u5b9a"}),Object(M.jsx)("button",{onClick:function(){O(!1),k(""),D("")},children:"\u53d6\u6d88"})]})]})}var ge=O.a.h2($n||($n=Object(g.a)(["\n  font-size: 5rem;\n  color: rgb(224, 222, 222);\n  margin: 0;\n  padding: 3% 0;\n}\n"]))),Oe=O.a.div(Vn||(Vn=Object(g.a)(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n  z-index: 999;\n  top: 70%;\n  height: 100%;\n  .RWD-S{\n    display: none;\n  }\n  @media (max-width: 415px) {\n    top: 0;\n    height: 60%;\n    .RWD-S{\n      display: block;\n    }\n    .RWD-L{\n      display: none;\n    }\n  }\n"]))),fe=O.a.div(qn||(qn=Object(g.a)(["\n  max-width: 95%;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  background: #1C1C1C;\n  .RWD-S{\n    display: none;\n  }\n  @media (max-width: 415px) {\n    top: 0;\n    height: 60%;\n    .RWD-S{\n      display: block;\n    }\n    .RWD-L{\n      display: none;\n    }\n  }\n"]))),ve=O.a.div(Kn||(Kn=Object(g.a)(["\n  position: relative;\n"]))),we=O.a.div(Yn||(Yn=Object(g.a)(["\n  height:100vh;\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  position: relative;\n  width: 100vw;\n  @media (max-width: 415px) {\n    width: 100%;\n  }\n"]))),ye=O.a.div(Jn||(Jn=Object(g.a)(["\n  color: white;\n  position: absolute;\n  top: 30%;\n  left: 10%;\n  @media (max-width: 415px) {\n    top:60%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 90%;\n  }\n"]))),ke=O.a.h2(Xn||(Xn=Object(g.a)(["\n  font-size: 2rem;\n  text-align: left;\n  margin-bottom: 1%;\n  @media (max-width: 415px) {\n    text-align: center;\n    font-size: 4rem;\n  }\n"]))),_e=O.a.p(Zn||(Zn=Object(g.a)(["\n  text-align: left;\n  font-size: 0.5rem;\n  width: 50%;\n  margin-bottom: 1%;\n  line-height: 1.5;\n  @media (max-width: 415px) {\n    display: none;\n  }\n"]))),Se=O.a.div(Qn||(Qn=Object(g.a)(["\n  width: 50%;\n  @media (max-width: 415px) {\n    margin: 0 auto;\n  }\n"]))),Ce=O.a.div(ne||(ne=Object(g.a)(["\n  position: relative;\n\n  .RWD-S{\n    display: none;\n  }\n  @media (max-width: 415px) {\n    min-height: 200px;\n    .RWD-L{\n      display: none;\n    }\n    .RWD-S{\n      display: block;\n    }\n  }\n"]))),ze=O.a.div(ee||(ee=Object(g.a)(["\n  color: white;\n  display: flex;\n  list-style: none;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-top: 20px;\n  a{\n    display: block;\n    width: 16%;\n    margin-right: 1%;\n    margin-bottom: 1%;\n    border: 1px solid white;\n    padding: 2% 0px;\n    box-sizing: border-box;\n    border-radius: 8px;\n    color: white;\n    text-decoration: none;\n\n    background-size: cover;\n    background-position: center;\n  }\n  @media (max-width: 415px) {\n    font-size: 14px;\n    a{width: 27%;}\n  }\n \n"]))),Re=O.a.div(te||(te=Object(g.a)(["\n\n"]))),De=O.a.p(ie||(ie=Object(g.a)(["\n  color: white;\n"]))),We=O.a.div(ce||(ce=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Ne=O.a.div(ae||(ae=Object(g.a)(["\n  color: white;\n  padding-bottom: 20px;\n  margin: 0 auto;\n  margin-top: 40px;\n  width: 60%;\n  @media (max-width: 415px) {\n    width: 85%;\n  }\n"])));function Me(n){var e=n.credits;return Object(M.jsxs)(fe,{children:[Object(M.jsx)("div",{className:"RWD-L",children:Object(M.jsx)(nn,{cols:6,gap:3,children:e.map((function(n){return Object(M.jsx)(nn.Item,{children:"null"!==n.profile_path&&Object(M.jsx)("div",{children:Object(M.jsx)(Cn,{person:n})})},n.id)}))})}),Object(M.jsx)("div",{className:"RWD-S",children:Object(M.jsx)(nn,{cols:3,gap:3,children:e.map((function(n){return Object(M.jsx)(nn.Item,{children:"null"!==n.profile_path&&Object(M.jsx)("div",{children:Object(M.jsx)(Cn,{person:n})})},n.id)}))})})]})}function Le(){var n=Object(b.useState)([]),e=Object(p.a)(n,2),t=e[0],i=e[1],c=Object(b.useState)([]),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)([]),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useState)([]),h=Object(p.a)(u,2),x=h[0],g=h[1],O=Object(b.useState)([]),w=Object(p.a)(O,2),y=w[0],S=w[1],C=Object(b.useState)([]),z=Object(p.a)(C,2),R=z[0],D=z[1],W=Object(b.useState)([]),N=Object(p.a)(W,2),L=N[0],T=N[1],I=Object(b.useState)(!1),E=Object(p.a)(I,2),U=E[0],H=E[1];Object(b.useEffect)((function(){function n(){return(n=Object(q.a)($.a.mark((function n(){var e,t;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="",n.next=3,k().then((function(n){var e=n.results.sort((function(n,e){return e.popularity-n.popularity}));j(e[0]),t=e[0]})).catch((function(n){return n}));case 3:return n.next=5,v(t.id).then((function(n){e=n.imdb_id})).catch((function(n){return n}));case 5:return n.next=7,f(e).then((function(n){var e=n.Ratings;j((function(n){return Object(V.a)(Object(V.a)({},n),{},{Ratings:e})}))})).catch((function(n){return n}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}window.scrollTo(0,0),function(){n.apply(this,arguments)}(),fetch("https://api.themoviedb.org/3/movie/popular?api_key=2be0c0fc4fb985246d2226af126346c2&language=en-US&region=TW&page=1").then((function(n){return n.json()})).then((function(n){H(!0),i(n.results),H(!1)})).catch((function(n){return n})),fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=2be0c0fc4fb985246d2226af126346c2&language=zh-TW&region=TW,US").then((function(n){return n.json()})).then((function(n){H(!0),g(n.results),H(!1)})).catch((function(n){return n})),fetch("https://api.themoviedb.org/3/person/popular?api_key=2be0c0fc4fb985246d2226af126346c2&language=zh-TW").then((function(n){return n.json()})).then((function(n){H(!0),D(n.results),H(!1)})).catch((function(n){return n})),_().then((function(n){H(!0);for(var e=[],t=0;t<n.genres.length;t++)e.push(n.genres[t]);S(e),H(!1)})).catch((function(n){return n}));var e=Object(K.b)(),t=Object(K.h)(Object(K.i)(e,"comments"),Object(K.f)("thumbs_up"),Object(K.c)(3)),c=[];Object(K.d)(t,(function(n){var e=n.val();c=Object.keys(e);for(var t=[],i=0;i<c.length;i++)t.push(Object(V.a)(Object(V.a)({},e[c[i]]),{},{isHide:!0,id:c[i]}));T(t)}))}),[]),Object(b.useEffect)((function(){var n=[];function e(){return(e=Object(q.a)($.a.mark((function e(){var i,c,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){for(i=[],c=[],a=0;a<t.length;a++)i.push(v(t[a].id));Promise.all(i).then((function(e){n=Object.assign([],e);for(var t=0;t<n.length;t++)c.push(f(n[t].imdb_id))})).then((function(){Promise.all(c).then((function(n){r(n)})).catch((function(n){return H(!1),n}))})).catch((function(n){return H(!1),n}))}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var P=function(n){T(L.map((function(e){return e.id!==n?e:Object(V.a)(Object(V.a)({},e),{},{isHide:!e.isHide})})))};return Object(M.jsxs)("div",{style:{backgroundColor:"#1C1C1C"},children:[Object(M.jsx)(Gn,{isLoading:U}),Object(M.jsxs)(ve,{children:[Object(M.jsx)(we,{style:{backgroundImage:l.backdrop_path&&'linear-gradient(to top, #1C1C1C, transparent), url("https://image.tmdb.org/t/p/original'.concat(l.backdrop_path,'")')},children:Object(M.jsxs)(ye,{children:[Object(M.jsx)(ke,{children:l.title}),Object(M.jsx)(_e,{children:l.overview}),Object(M.jsx)(Se,{children:l.Ratings&&Object(M.jsx)(cn,{Ratings:l.Ratings},l.id)})]})}),Object(M.jsxs)(Ce,{className:"popular",children:[Object(M.jsx)(ge,{children:"Popular"}),Object(M.jsx)(Oe,{children:Object(M.jsxs)(fe,{children:[Object(M.jsx)("div",{className:"RWD-L",children:Object(M.jsx)(nn,{cols:4,gap:20,children:0!==o.length&&t.map((function(n,e){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),isRating:!0,isRatingLoading:!1,movie:n,rating:o[e].Ratings})},n.id)}))})}),Object(M.jsx)("div",{className:"RWD-S",children:Object(M.jsx)(nn,{cols:2,gap:10,children:0!==o.length&&t.map((function(n,e){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),isRating:!0,isRatingLoading:!1,movie:n,rating:o[e].Ratings})},n.id)}))})})]})})]}),Object(M.jsx)(ge,{children:"Upcomming"}),Object(M.jsx)(De,{children:"\u53f0\u7063\u53ca\u5168\u7f8e\u5373\u5c07\u4e0a\u6620"}),Object(M.jsx)(Re,{children:Object(M.jsx)(Oe,{children:Object(M.jsxs)(fe,{children:[Object(M.jsx)("div",{className:"RWD-L",children:Object(M.jsx)(nn,{cols:4,gap:10,children:x.map((function(n){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),movie:n})},n.id)}))})}),Object(M.jsx)("div",{className:"RWD-S",children:Object(M.jsx)(nn,{cols:2,gap:10,children:x.map((function(n){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),movie:n})},n.id)}))})})]})})}),Object(M.jsx)(ge,{children:"Hottest"}),Object(M.jsx)(We,{children:Object(M.jsx)(Me,{credits:R})}),Object(M.jsx)(ge,{children:"Genre"}),Object(M.jsx)(De,{children:"\u5c0b\u627e\u60a8\u559c\u6b61\u7684\u985e\u578b"}),Object(M.jsx)(ze,{children:y.map((function(n){return Object(M.jsx)(m.b,{to:"/search/genre/".concat(n.id),children:Object(M.jsx)("li",{children:n.name})},n.id)}))}),Object(M.jsx)(ge,{children:"Comments"}),Object(M.jsx)(Ne,{children:0!==L.length?L.map((function(n){return Object(M.jsx)(xe,{comment:n,handleCommentOpen:P,isPosterOpen:!0},n.id)})):Object(M.jsx)("p",{children:"\u9084\u6c92\u6709\u4efb\u4f55\u8a55\u8ad6"})})]})]})}var Te,Ie,Ee,Ue,He,Pe,Be,Ae,Fe,Ge,$e,Ve,qe,Ke,Ye,Je,Xe,Ze,Qe,nt,et,tt,it,ct,at,ot=t(64),rt=t(41),st=O.a.div(Te||(Te=Object(g.a)(["\n  margin: 0 auto;\n  width: 100%;\n  height: auto;\n  padding: 15%;\n  box-sizing: border-box;\n"]))),dt=O.a.div(Ie||(Ie=Object(g.a)(["\n  margin: 0 auto;\n  width: 100%;\n  font-size: 0.6rem;\n  line-height: 1.5;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  li{\n    list-style-type:none;\n  }\n  .rating-list{\n    margin-top: 5%;\n  }\n  @media (max-width: 415px) {\n    width: 90%;\n    font-size: 14px;\n    margin: 0 auto;\n    h2{\n      font-size: 18px;\n    }\n    .rating-list{\n      \n    }\n  }\n"]))),lt=O.a.div(Ee||(Ee=Object(g.a)(["\n  margin: 30px 100px;\n  @media (max-width: 415px) {\n    margin: 80px 0;\n  }\n"]))),bt=O.a.div(Ue||(Ue=Object(g.a)(["\n\n  display: grid;\n  grid-template-columns: 50% 50%;\n  z-index: 10000;\n  @media (max-width: 415px) {\n    display: block;\n  }\n"]))),jt=O.a.div(He||(He=Object(g.a)(["\n  display: flex;\n"]))),ut=O.a.div(Pe||(Pe=Object(g.a)(["\n  max-width: 95%;\n  width: 100%;\n  padding: 20px;\n  margin: 0 auto;\n  box-sizing: border-box;\n  .RWD-S{\n    display: none;\n  }\n  @media (max-width: 415px) {\n    max-width: 100%;\n\n    .RWD-S{\n      display: block;\n    }\n    .RWD-L{\n      display: none;\n    }\n  }\n"]))),ht=O.a.div(Be||(Be=Object(g.a)(["\n  padding: 0;\n  font-size: 1rem;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: rgba(255,255,255, 0.5);\n  min-height: 100vh;\n  padding-top: 5%;\n  padding-bottom: 5%;\n  h2{\n    font-size: 1rem;\n  }\n  @media (max-width: 415px) {\n    padding-bottom: 0;\n    h2{\n      font-size: 2.3rem;\n    }\n  }\n"]))),pt=Object(O.a)(m.b)(Ae||(Ae=Object(g.a)(["\n  display: inline-block;\n  width: 100%;\n  padding: 30% 0;\n  margin-right: 10px;\n  background-position: center;\n  background-size: contain;\n  background-repeat: no-repeat;\n  @media (max-width: 415px) {\n    height: 150px;\n  }\n  "]))),mt=O.a.span(Fe||(Fe=Object(g.a)(["\n  \n"]))),xt=O.a.ul(Ge||(Ge=Object(g.a)(["\n  text-align: left;\n  font-size: 0.5rem;\n  margin-top: 5%;\n  line-height: 2;\n  @media (max-width: 415px) {\n    width: 100%;\n    font-size: 14px;\n  }\n"]))),gt=O.a.div($e||($e=Object(g.a)(["\n  max-width: 100%;\n  margin: 0 auto;\n  width: 100%;\n  height: auto;\n  position: relative;\n  overflow: hidden;\n  padding-top: 25.25%;\n  margin-top: 5%;\n  .responsive-iframe {\n    position: absolute;\n    top: 0%;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n  }\n  p{\n    text-align: center;\n    font-size: 32px;\n    margin-bottom: 5%;\n  }\n  .RWD-S{\n    margin: 0 auto;\n    display: none;\n    opacity: 0;\n  }\n  @media (max-width: 415px) {\n    max-width: 90%;\n    padding-top: 50.25%;\n    p{\n      text-align: center;\n      font-size: 25px;\n      margin-bottom: 15px;\n    }\n    .RWD-S{\n      display: block;\n      opacity: 1;\n    }\n    .RWD-L{\n      display: none;\n      opacity: 0;\n    }\n  }\n"]))),Ot=O.a.div(Ve||(Ve=Object(g.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]))),ft=O.a.img(qe||(qe=Object(g.a)(["\n  height: auto;\n  width: 100%;\n  background-position: center;\n  background-size: contain;\n  background-repeat: no-repeat;\n  &:hover{\n    transition: 0.5s;\n    transform: scale(1.1);\n  }\n  @media (max-width: 415px) {\n   \n  }\n"]))),vt=O.a.span(Ke||(Ke=Object(g.a)(["\n  display: inline-block;\n  font-size: 0.5rem;\n  border-radius: 10px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  word-break: keep-all;\n  padding: 5px;\n  @media (max-width: 415px) {\n    font-size: 14px;\n  }\n"]))),wt=O.a.div(Ye||(Ye=Object(g.a)(["\n  padding: 80px;\n  width: 60%;\n  margin: 0 auto;\n  a{\n    color: white;\n  }\n  @media (max-width: 415px) {\n    padding: 0;\n    margin-bottom: 50px;\n    width: 85%;\n  }\n"]))),yt=O.a.div(Je||(Je=Object(g.a)(["\n\n"]))),kt=O.a.div(Xe||(Xe=Object(g.a)(["\n  width: 50%;\n  margin: 0 auto;\n  input[type=submit]{\n    margin-top: 3%;\n  }\n  input, textarea{\n    font-size: ","\n  }\n"])),(function(n){return n.isMobileDevice?"initial":"0.5rem"})),_t=O.a.div(Ze||(Ze=Object(g.a)(["\n  display: grid;\n  grid-template-columns: 15% 85%;\n"]))),St=O.a.div(Qe||(Qe=Object(g.a)(["\n  margin-bottom: 2%;\n"]))),Ct=O.a.p(nt||(nt=Object(g.a)(["\n  margin-bottom: 2%;\n"])));function zt(n){var e=n.credits;return Object(M.jsxs)(ut,{children:[Object(M.jsx)("div",{className:"RWD-L",children:Object(M.jsx)(nn,{cols:6,gap:10,children:e.map((function(n){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)("div",{children:"null"!==n.profile_path&&Object(M.jsx)(Cn,{person:n})})},n.id)}))})}),Object(M.jsx)("div",{className:"RWD-S",children:Object(M.jsx)(nn,{cols:3,gap:0,children:e.map((function(n){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)("div",{children:"null"!==n.profile_path&&Object(M.jsx)(Cn,{person:n})})},n.id)}))})})]})}function Rt(){var n=Object(b.useState)(!0),e=Object(p.a)(n,2),t=e[0],i=e[1],c=Object(b.useState)([]),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)([]),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useState)([]),h=Object(p.a)(u,2),g=h[0],O=h[1],v=Object(b.useState)([]),w=Object(p.a)(v,2),k=w[0],_=w[1],S=Object(b.useState)({}),C=Object(p.a)(S,2),z=C[0],R=C[1],D=Object(b.useState)([]),L=Object(p.a)(D,2),T=L[0],I=L[1],E=Object(b.useState)([]),U=Object(p.a)(E,2),H=U[0],P=U[1],B=Object(b.useState)([]),A=Object(p.a)(B,2),F=A[0],G=A[1],$=Object(b.useState)(""),q=Object(p.a)($,2),Y=q[0],J=q[1],X=Object(b.useState)(""),Z=Object(p.a)(X,2),Q=Z[0],en=Z[1],tn=Object(b.useState)(!1),an=Object(p.a)(tn,2),on=an[0],rn=an[1],sn=Object(b.useState)(1),dn=Object(p.a)(sn,2),ln=dn[0],bn=dn[1],jn=Object(b.useState)(1),un=Object(p.a)(jn,2),hn=un[0],pn=un[1],mn=Object(x.i)().id,xn=Object(b.useContext)(W).user,gn={buttons:{showNextButton:!1,showPrevButton:!1},thumbnails:{showThumbnails:!1}};Object(b.useEffect)((function(){!function(){var n=Object(K.b)(),e=Object(K.h)(Object(K.i)(n,"comments"),Object(K.e)("movie_id"),Object(K.a)(mn));Object(K.d)(e,(function(n){var e=n.val(),t=[];if(e){var i,c=Object.keys(e),a=Math.ceil(c.length/5);pn(a),i=c.length>=5?5:c.length;for(var o=0;o<i;o++)t.push(Object(V.a)(Object(V.a)({},e[c[o]]),{},{isHide:!0,id:c[o]}));G(t.reverse())}else G([])}))}()}),[mn]);var On="";o.poster_path&&(On="https://image.tmdb.org/t/p/original".concat(o.backdrop_path));var fn=Object(ot.useColor)(On,"rgbArray",{crossOrigin:"anonymous",quality:10}).data,vn="",wn="";if(fn){for(var yn="rgba(",_n=0;_n<fn.length;_n++)yn+=fn[_n]+",";vn=yn+="0.8)"}if(fn){var Sn=fn[0],Cn=fn[1],zn=fn[2];wn="hsl(0, 0%, calc((".concat((.2126*Sn+.7152*Cn+.0722*zn)/255," - 0.5) * -999999%))")}Object(b.useEffect)((function(){window.scrollTo(0,0),i(!0),y(mn).then((function(n){return r(n),n})).then((function(n){i(!1),function(n){return fetch("https://api.themoviedb.org/3/movie/".concat(n,"/videos?api_key=2be0c0fc4fb985246d2226af126346c2")).then((function(n){return n.json()}))}(n.id).then((function(n){var e=n.results.filter((function(n){return"Trailer"===n.type}));I(e[0])})),f(n.imdb_id).then((function(n){j(n.Ratings)})),function(n){return fetch("https://api.themoviedb.org/3/movie/".concat(n,"/similar?api_key=2be0c0fc4fb985246d2226af126346c2&language=zh-TW")).then((function(n){return n.json()}))}(n.id).then((function(n){O(n.results)}))})),function(n){return fetch("https://api.themoviedb.org/3/movie/".concat(n,"/credits?api_key=2be0c0fc4fb985246d2226af126346c2&language=zh-TW")).then((function(n){return n.json()}))}(mn).then((function(n){var e=n.crew.filter((function(n){return"Director"===n.job}));_(n.cast),R(e[0])})),function(n){return fetch("https://api.themoviedb.org/3/movie/".concat(n,"/images?api_key=2be0c0fc4fb985246d2226af126346c2")).then((function(n){return n.json()}))}(mn).then((function(n){var e=n.backdrops;P(e)}))}),[mn]);var Rn=function(n){G(F.map((function(e){return e.id!==n?e:Object(V.a)(Object(V.a)({},e),{},{isHide:!e.isHide})})))},Dn=function(n){var e=Object(K.b)(),t=Object(K.h)(Object(K.i)(e,"comments"),Object(K.e)("movie_id"),Object(K.a)(mn));n?Object(K.d)(t,(function(n){var e=n.val(),t=[];if(e){var i,c=Object.keys(e);i=c.length>=5*ln+4?5*ln+4:c.length;for(var a=5*ln;a<i;a++)t.push(Object(V.a)(Object(V.a)({},e[c[a]]),{},{isHide:!0,id:c[a]}));G(t.reverse()),bn(ln+1)}})):n||Object(K.d)(t,(function(n){var e=n.val(),t=[];if(e){var i,c=Object.keys(e);i=c.length>=5*(ln-2)+4?5*(ln-2)+4:c.length;for(var a=5*(ln-2);a<i;a++)t.push(Object(V.a)(Object(V.a)({},e[c[a]]),{},{isHide:!0,id:c[a]}));G(t.reverse()),bn(ln-1)}}))};return Object(M.jsxs)("div",{style:{backgroundColor:"#1C1C1C",color:"white"},children:[Object(M.jsx)(Gn,{isLoading:t}),o.poster_path&&Object(M.jsx)(ht,{style:{backgroundImage:"linear-gradient(to top, #1C1C1C, ".concat(vn,'), url("https://image.tmdb.org/t/p/original').concat(o.backdrop_path,'")')},children:Object(M.jsxs)(lt,{children:[Object(M.jsxs)(bt,{children:[Object(M.jsx)(st,{children:Object(M.jsx)(kn,{id:o.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(o.poster_path),movie:o},o.id)}),Object(M.jsxs)(dt,{style:{color:"".concat(wn)},children:[Object(M.jsxs)("h2",{children:[o.title,Object(M.jsxs)(mt,{children:["(",o.release_date.substr(0,4),")"]})]}),Object(M.jsx)("p",{children:o.overview}),l&&Object(M.jsx)("div",{className:"rating-list",children:Object(M.jsx)(cn,{Ratings:l})}),Object(M.jsxs)(xt,{children:[z&&Object(M.jsxs)("li",{children:["\u5c0e\u6f14\uff1a",z.name]}),Object(M.jsxs)("li",{children:["\u7247\u9577\uff1a",o.runtime]}),Object(M.jsxs)("li",{children:["\u5b98\u65b9\u7db2\u7ad9\uff1a",o.homepage]}),Object(M.jsxs)("li",{children:["\u95dc\u9375\u5b57\uff1a",o.keywords.keywords.map((function(n,e){return Object(M.jsx)(vt,{style:{border:"1px solid ".concat(wn)},children:"#"+n.name},e)}))]})]})]})]}),Object(M.jsx)("h2",{children:"\u76f8\u95dc\u5716\u7247\uff1a"}),Object(M.jsx)(Ot,{children:Object(M.jsxs)(ut,{children:[Object(M.jsx)("div",{className:"RWD-L",children:Object(M.jsx)(nn,{cols:4,gap:10,children:H&&H.map((function(n,e){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)(rt.a,{options:gn,children:Object(M.jsx)(ft,{src:"https://image.tmdb.org/t/p/original".concat(n.file_path)})})},e)}))})}),Object(M.jsx)("div",{className:"RWD-S",children:Object(M.jsx)(nn,{cols:2,gap:10,children:H&&H.map((function(n,e){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)(rt.a,{options:gn,children:Object(M.jsx)(ft,{src:"https://image.tmdb.org/t/p/original".concat(n.file_path)})})},e)}))})})]})}),Object(M.jsx)("h2",{children:"\u9810\u544a\uff1a"}),Object(M.jsx)(gt,{children:T&&Object(M.jsx)("iframe",{allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"responsive-iframe",frameBorder:"0",src:"https://www.youtube.com/embed/".concat(T.key,"?autoplay=0"),title:"YouTube video player"})})]})}),Object(M.jsx)("h2",{children:"Credits"}),Object(M.jsx)(zt,{credits:k}),Object(M.jsx)("h2",{children:"Comments"}),Object(M.jsxs)(wt,{children:[Object(M.jsxs)(St,{children:[0!==F.length?F.map((function(n){return Object(M.jsx)(xe,{comment:n,handleCommentOpen:Rn},n.id)})):Object(M.jsx)(Ct,{children:"\u9084\u6c92\u6709\u4efb\u4f55\u8a55\u8ad6"}),xn?Object(M.jsx)("button",{onClick:function(){rn(!on)},children:"\u65b0\u589e\u8a55\u8ad6"}):Object(M.jsx)(m.b,{to:"/login",children:"\u9ede\u6211\u767b\u5165\u8a55\u8ad6"})]}),on&&Object(M.jsxs)(kt,{isMobileDevice:N(),children:[Object(M.jsxs)(_t,{children:[Object(M.jsx)("span",{children:"\u6a19\u984c\uff1a"}),Object(M.jsx)("input",{onChange:function(n){return J(n.target.value)},type:"text",value:Y})]}),Object(M.jsxs)(_t,{children:[Object(M.jsx)("span",{children:"\u5167\u5bb9\uff1a"}),Object(M.jsx)("textarea",{onChange:function(n){return en(n.target.value)},type:"text",value:Q})]}),Object(M.jsx)("input",{onClick:function(){""!==Y&&""!==Q?(!function(){var n=Object(K.b)(),e=function(){var n=new Date,e="",t="";return e=["10","11","12"].includes((n.getMonth()+1).toString())?(n.getMonth()+1).toString():"0"+(n.getMonth()+1).toString(),t=["1","2","3","4","5","6","7","8","9"].includes(n.getDate().toString())?"0"+n.getDate().toString():n.getDate().toString(),n.getFullYear().toString()+e+t}(),t=(new Date).getTime();Object(K.g)(Object(K.i)(n,"comments"),{content:Q,title:Y,date:e,display_name:xn.providerData[0].displayName,thumbs_up:0,movie_id:mn,uid:xn.uid,createdAt:t})}(),J(""),en("")):alert("\u8acb\u8f38\u5165\u8a55\u8ad6\u6a19\u984c\u53ca\u5167\u5bb9")},type:"submit"})]}),Object(M.jsxs)(yt,{children:[1!==ln&&Object(M.jsx)("button",{onClick:function(){Dn(!1)},children:"<"}),ln,hn!==ln&&Object(M.jsx)("button",{onClick:function(){Dn(!0)},children:">"})]})]}),Object(M.jsx)("h2",{children:"\u63a8\u85a6\u5c08\u5340"}),Object(M.jsx)(jt,{children:Object(M.jsx)(ut,{children:Object(M.jsx)(nn,{cols:3,gap:10,children:g.map((function(n){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)("div",{children:n.poster_path&&Object(M.jsx)(pt,{style:{backgroundImage:'url("https://image.tmdb.org/t/p/w500'.concat(n.poster_path,'")')},to:"/movie/".concat(n.id)})})},n.id)}))})})})]})}var Dt,Wt,Nt,Mt,Lt,Tt,It,Et,Ut,Ht,Pt=O.a.div(et||(et=Object(g.a)(["\n  background: #1C1C1C;\n  padding-top: 80px;\n"]))),Bt=O.a.div(tt||(tt=Object(g.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  box-sizing: border-box;\n  justify-content: center;\n  .RWD-S{\n    display: none;\n  }\n  @media (max-width: 415px) {\n    .RWD-L{\n      display: none;\n    }\n    .RWD-S{\n      display: block;\n    }\n  }\n\n"]))),At=O.a.h2(it||(it=Object(g.a)(["\n    padding: 60px 0px;\n    color: white;\n"]))),Ft=O.a.div(ct||(ct=Object(g.a)(["\n    color: white;\n    padding: 30px 0px;\n"]))),Gt=O.a.div(at||(at=Object(g.a)(["\n  width: 23%;\n  margin: 1%;\n  @media (max-width: 415px) {\n    width: 45%;\n  }\n"])));function $t(){var n=Object(b.useState)(!0),e=Object(p.a)(n,2),t=e[0],i=e[1],c=Object(b.useState)([]),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)([]),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useState)([]),h=Object(p.a)(u,2),m=h[0],g=h[1],O=Object(b.useState)(""),w=Object(p.a)(O,2),y=w[0],k=w[1],C=Object(b.useState)(""),z=Object(p.a)(C,2),R=z[0],D=z[1],W=Object(x.i)().id;Object(b.useEffect)((function(){""!==W&&S(W).then((function(n){i(!0),k(n.page),D(n.total_pages),r(n.results)}))}),[W]),Object(b.useEffect)((function(){var n=[];!function(){i(!0);for(var e=[],t=[],c=0;c<o.length;c++)e.push(v(o[c].id));Promise.all(e).then((function(e){n=Object.assign([],e);for(var i=0;i<n.length;i++)t.push(f(n[i].imdb_id))})).then((function(){Promise.all(t).then((function(n){g(n),i(!1)})).catch((function(n){return i(!1),n}))})).catch((function(n){return n}))}()}),[o]),Object(b.useEffect)((function(){i(!0),_().then((function(n){for(var e=[],t=0;t<n.genres.length;t++)e.push(n.genres[t]);j(e)}))}),[]);var N=function(n){window.scrollTo(0,0),i(!0),g([]),""!==W&&S(W,n).then((function(n){k(n.page),r(n.results)}))};return Object(M.jsxs)(Pt,{children:[Object(M.jsx)(Gn,{isLoading:t}),Object(M.jsx)(At,{children:l.filter((function(n){return n.id.toString()===W})).map((function(n){return n.name+"\u985e\u578b\u641c\u5c0b\u7d50\u679c"}))}),Object(M.jsxs)(Bt,{children:[0!==m.length&&o&&o.map((function(n,e){return Object(M.jsx)(Gt,{className:"RWD-L",children:Object(M.jsx)(kn,{isRating:!0,isRatingLoading:!1,movie:n,rating:m[e].Ratings})},n.id)})),0!==m.length&&o&&o.map((function(n,e){return Object(M.jsx)(Gt,{className:"RWD-S",children:Object(M.jsx)(kn,{isRating:!0,isRatingLoading:!1,movie:n,rating:m[e].Ratings})},n.id)}))]}),Object(M.jsxs)(Ft,{children:[1!==y?Object(M.jsx)("button",{onClick:function(){N(y-1)},children:"<"}):"",y,y!==R?Object(M.jsx)("button",{onClick:function(){N(y+1)},children:">"}):""]})]})}var Vt,qt,Kt,Yt,Jt,Xt,Zt,Qt,ni,ei,ti,ii,ci=O.a.div(Dt||(Dt=Object(g.a)(["\n  background: #1C1C1C;\n  line-height: 1.5;\n  color: white;\n  padding-top: 8%;\n  min-height: 100vh;\n  @media (max-width: 415px) {\n    display: block;\n    padding-top: 15%;\n  }\n"]))),ai=O.a.div(Wt||(Wt=Object(g.a)(["\n  display: grid;\n  grid-template-columns: 30% 70%;\n  @media (max-width: 415px) {\n    display: block;\n  }\n"]))),oi=O.a.div(Nt||(Nt=Object(g.a)(["\n  width: 100%;\n  @media (max-width: 415px) {\n    margin-top: 15%;\n  }\n"]))),ri=O.a.div(Mt||(Mt=Object(g.a)(["\n  border: 1px solid;\n  margin: 20px auto;\n  display: grid;\n  grid-template-columns: 30% 70%;\n  align-items: center;\n  max-width: 90%;\n  @media (max-width: 415px) {\n    max-width: 90%;\n    grid-template-columns: 40% 60%;\n  }\n"]))),si=O.a.div(Lt||(Lt=Object(g.a)(["\n  margin: 0 auto;\n  padding: 8%;\n  font-size: 0.5rem;\n  li{\n    list-style: none;\n  }\n  .rating-list{\n    margin-top: 5%;\n  }\n  .RWD-S{\n    display: none;\n  }\n  p{\n    display: -webkit-box;\n    overflow:hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    -webkit-line-clamp: 8;\n    -webkit-box-orient: vertical;\n    white-space: normal;\n    text-align: justify;\n  }\n  @media (max-width: 900px) {\n    p{\n      display: -webkit-box;\n      overflow:hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      -webkit-line-clamp: 4;\n      -webkit-box-orient: vertical;\n      white-space: normal;\n      font-size: 1rem;\n    }\n    h2{\n      font-size: 2rem;\n    }\n  }\n  @media (max-width: 415px) {\n    .RWD-L{\n      display: block;\n    }\n    padding: 0px 5%;\n    h2{\n      font-weight: bold;\n    }\n\n  }\n"]))),di=O.a.div(Tt||(Tt=Object(g.a)(["\n  margin: 0 auto;\n  min-width: 80%;\n  margin-top: 10%;\n  font-size: 0.5rem;\n  @media (max-width: 415px) {\n    display: none;\n  }\n \n"]))),li=O.a.div(It||(It=Object(g.a)(["\n\n"]))),bi=O.a.div(Et||(Et=Object(g.a)(["\n  width: 100%;\n  margin: 1%;\n  .RWD-S{\n    display: none;\n  }\n  @media (max-width: 415px) {\n    .RWD-S{\n      display: block;\n    }\n    .RWD-L{\n      display: none;\n    }\n    img{\n      height: 200px;\n    }\n  }\n"]))),ji=O.a.p(Ut||(Ut=Object(g.a)(["\n  color: white;\n  text-align: left;\n  margin-top: 5%;\n  @media (max-width: 415px) {\n    text-align: center;\n  }\n"]))),ui=O.a.li(Ht||(Ht=Object(g.a)(["\n  ","\n  list-style: none;\n  padding-left: 0;\n  width: 100%;\n  padding: 5% 0;\n  border: 1px solid white;\n  cursor: pointer;\n"])),(function(n){return n.$active&&"\n      background: white;\n      color: black;\n    "}));function hi(n){var e=n.person;return Object(M.jsxs)(ri,{children:[Object(M.jsx)(Cn,{isName:!1,person:e}),Object(M.jsxs)(si,{children:[Object(M.jsx)("h2",{children:e.name}),Object(M.jsxs)("p",{children:["\u4ee3\u8868\u4f5c: ",e.known_for.map((function(n,e){return Object(M.jsx)("li",{children:n.title},e)}))]})]})]})}function pi(n){var e=n.movie,t=n.rating;return Object(M.jsxs)(ri,{children:[Object(M.jsxs)(bi,{children:[Object(M.jsx)("div",{className:"RWD-L",children:Object(M.jsx)(kn,{id:e.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),isRating:!1,movie:e,rating:t},e.id)}),Object(M.jsx)("div",{className:"RWD-S",children:Object(M.jsx)(kn,{id:e.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),isRating:!1,movie:e,rating:t},e.id)})]}),Object(M.jsxs)(si,{children:[Object(M.jsx)("h2",{children:e.title}),Object(M.jsx)("p",{children:e.overview}),Object(M.jsx)("div",{className:"RWD-S"}),Object(M.jsx)("div",{className:"rating-list",children:Object(M.jsx)(cn,{Ratings:t,logoWidth:"30px"})})]})]})}function mi(){var n=Object(b.useState)([]),e=Object(p.a)(n,2),t=e[0],i=e[1],c=Object(b.useState)([]),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)([]),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useState)([]),h=Object(p.a)(u,2),m=h[0],g=h[1],O=Object(b.useState)(0),y=Object(p.a)(O,2),k=y[0],S=y[1],C=Object(b.useState)({allCount:0,movieCount:0,peopleCount:0}),z=Object(p.a)(C,2),R=z[0],D=z[1],W=Object(b.useState)(!1),N=Object(p.a)(W,2),L=N[0],T=N[1],I=Object(b.useState)(0),E=Object(p.a)(I,2),U=E[0],H=E[1],P=Object(b.useState)(""),B=Object(p.a)(P,2),A=B[0],F=B[1],G=Object(b.useState)(""),$=Object(p.a)(G,2),V=$[0],q=$[1],K=Object(b.useState)(!0),Y=Object(p.a)(K,2),J=Y[0],X=Y[1],Z=Object(x.i)().query;Object(b.useEffect)((function(){X(!0),""!==Z&&(window.scrollTo(0,0),j([]),i([]),w(Z).then((function(n){F(n.page),q(n.total_pages);var e=0,t=0,c=[];n.results.forEach((function(n){return"movie"===n.media_type&&n.genre_ids.forEach((function(n){c.find((function(e){return e===n}))||c.push(n)})),"movie"===n.media_type?e++:"tv"===n.media_type?null:"person"===n.media_type?t++:void 0}));var a=e+t;g(c),i(n.results.sort((function(n,e){return e.popularity-n.popularity}))),D({allCount:a,movieCount:e,peopleCount:t})})))}),[Z]),Object(b.useEffect)((function(){j([]);var n=[];!function(){for(var e=[],i=[],c=0;c<t.length;c++)"movie"===t[c].media_type?e.push(v(t[c].id)):e.push(null);Promise.all(e).then((function(e){n=Object.assign([],e);for(var t=0;t<n.length;t++)null!==n[t]?i.push(f(n[t].imdb_id)):i.push(null)})).then((function(){Promise.all(i).then((function(n){j(n),X(!1)})).catch((function(n){return X(!1),n}))})).catch((function(n){return X(!1),n}))}()}),[t]),Object(b.useEffect)((function(){_().then((function(n){for(var e=[],t=[],i=0;i<n.genres.length;i++)e.push(n.genres[i]);for(var c=function(n){var i=e.find((function(e){return e.id===m[n]}));t.push(i)},a=0;a<m.length;a++)c(a);r(t)}))}),[m]);var Q=function(n){window.scrollTo(0,0),w(Z,n).then((function(n){F(n.page),q(n.total_pages);var e=0,t=0,c=[];n.results.forEach((function(n){return"movie"===n.media_type&&n.genre_ids.forEach((function(n){c.find((function(e){return e===n}))||c.push(n)})),"movie"===n.media_type?e++:"tv"!==n.media_type&&"person"===n.media_type?t++:void 0}));var a=e+t;g(c),i(n.results),D({allCount:a,movieCount:e,peopleCount:t})}))};return Object(M.jsxs)(ci,{children:[Object(M.jsx)(Gn,{isLoading:J}),Object(M.jsxs)(ai,{children:[Object(M.jsx)(di,{children:Object(M.jsxs)("ul",{onClick:function(n){!function(n){"LI"===n.target.nodeName&&("0"===n.target.dataset.value&&S(0),"1"===n.target.dataset.value&&S(1),"2"===n.target.dataset.value&&S(2),"3"===n.target.dataset.value&&S(3))}(n)},children:[Object(M.jsxs)(ui,{$active:0===k,"data-value":"0",children:["\u5168\u90e8 ",R.allCount]}),Object(M.jsxs)(ui,{$active:1===k,"data-value":"1",children:["\u96fb\u5f71 ",R.movieCount]}),Object(M.jsxs)(ui,{$active:2===k,"data-value":"2",children:["\u4eba\u7269 ",R.peopleCount]}),Object(M.jsx)(ui,{$active:3===k,onClick:function(){T(!L)},children:"\u985e\u578b"}),o&&L&&o.map((function(n){return Object(M.jsx)("li",{className:"genre-DDL","data-value":"3",onClick:function(n){!function(n){H(n.target.value)}(n)},value:n.id,children:n.name},n.id)}))]})}),Object(M.jsxs)(oi,{children:[0!==l.length&&0!==t.length&&0===k&&t.map((function(n,e){return"movie"===n.media_type?Object(M.jsx)(pi,{movie:n,rating:l[e].Ratings},n.id):"person"===n.media_type?Object(M.jsx)(hi,{person:n},n.id):null})),0!==l.length&&t&&1===k&&0!==R.movieCount&&t.filter((function(n){return"movie"===n.media_type})).map((function(n,e){return Object(M.jsx)(pi,{movie:n,rating:l[e].Ratings},n.id)})),t&&2===k&&0!==R.peopleCount&&t.filter((function(n){return"person"===n.media_type})).map((function(n){return Object(M.jsx)(hi,{person:n},n.id)})),0!==l.length&&t&&3===k&&0!==R.allCount&&t.filter((function(n){return"movie"===n.media_type})).filter((function(n){var e=!1;return n.genre_ids.some((function(n){return e=n===U})),!0===e})).map((function(n,e){return Object(M.jsx)(pi,{movie:n,rating:l[e].Ratings},n.id)})),0===t.length&&Object(M.jsx)(ji,{children:"\u627e\u4e0d\u5230\u4efb\u4f55\u641c\u5c0b\u7d50\u679c"})]})]}),Object(M.jsxs)(li,{children:[1!==A?Object(M.jsx)("button",{onClick:function(){Q(A-1)},children:"<"}):"",A,A!==V&&0!==V?Object(M.jsx)("button",{onClick:function(){Q(A+1)},children:">"}):""]})]})}var xi,gi,Oi,fi=O.a.div(Vt||(Vt=Object(g.a)(["\n  background: #1C1C1C;\n  color: white;\n"]))),vi=O.a.div(qt||(qt=Object(g.a)(["\n  height: 500px;\n  width: 50%;\n  background-position: center;\n  background-size: contain;\n  background-repeat: no-repeat;\n  @media (max-width: 415px) {\n    width: 100%;\n  }\n"]))),wi=O.a.div(Kt||(Kt=Object(g.a)(["\n  padding: 0 20%; \n  padding-top: 10%;\n  margin-bottom: 30px;\n  display: flex;\n  justify-content: center;\n  @media (max-width: 415px) {\n    display: block;\n    padding: 25% 0 10% 0;\n  }\n"]))),yi=O.a.div(Yt||(Yt=Object(g.a)(["\n  width: 50%;\n  display: flex;\n  flex-direction: column;\n  align-items:center;\n  justify-content: center;\n  line-height: 1.5;\n  font-size: 0.4rem;\n  @media (max-width: 415px) {\n    width: 100%;\n    font-size: 16px;\n  }\n"]))),ki=O.a.div(Jt||(Jt=Object(g.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  .RWD-S{\n    display: none;\n  }\n  @media (max-width: 415px) {\n    .RWD-S{\n      display: block;\n    }\n    .RWD-L{\n      display: none;\n    }\n  }\n"]))),_i=O.a.p(Xt||(Xt=Object(g.a)(["\n  margin-top: 3%;\n  line-height: 1.5;\n  @media (max-width: 415px) {\n    line-height: 1.5;\n    \n  }\n"]))),Si=O.a.h2(Zt||(Zt=Object(g.a)(["\n  margin-top: 60px;\n"]))),Ci=O.a.div(Qt||(Qt=Object(g.a)(["\n  margin: 0 auto;\n  max-width: 80%;\n  @media (max-width: 415px) {\n    max-wdith: 90%;\n  }\n"]))),zi=O.a.div(ni||(ni=Object(g.a)(["\n  width: 23%;\n  margin: 1%;\n  @media (max-width: 415px) {\n    width: 45%;\n  }\n"]))),Ri=O.a.div(ei||(ei=Object(g.a)(["\n  max-width: 95%;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  background: #1C1C1C;\n"]))),Di=O.a.p(ti||(ti=Object(g.a)(["\n  text-align: center;\n  margin-top: 2%;\n"]))),Wi=O.a.button(ii||(ii=Object(g.a)(["\n  background: transparent;\n  border: 1px solid white;\n  color: white;\n  cursor: pointer;\n  ","\n"])),(function(n){return n.$active&&"\n      background: white;\n      color: black;\n    "}));function Ni(){var n=Object(b.useState)({}),e=Object(p.a)(n,2),t=e[0],i=e[1],c=Object(b.useState)(""),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)("chi"),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useState)([]),h=Object(p.a)(u,2),m=h[0],g=h[1],O=Object(b.useState)([]),f=Object(p.a)(O,2),v=f[0],w=f[1],y=Object(x.i)().id;Object(b.useEffect)((function(){window.scrollTo(0,0),C(y).then((function(n){i(n),r(n.biography)})).catch((function(n){return n})),function(n){return fetch("https://api.themoviedb.org/3/person/".concat(n,"/movie_credits?api_key=2be0c0fc4fb985246d2226af126346c2&language=zh-TW")).then((function(n){return n.json()}))}(y).then((function(n){var e=n.cast.sort((function(n,e){return e.popularity-n.popularity})).slice(0,4),t=n.cast.sort((function(n,e){return e.popularity-n.popularity})).slice(4,n.cast.length-1);g(e),w(t)})).catch((function(n){return n}))}),[y]);var k=function(n){"eng"===n&&function(n){return fetch("https://api.themoviedb.org/3/person/".concat(n,"?api_key=2be0c0fc4fb985246d2226af126346c2&language=en-US")).then((function(n){return n.json()}))}(y).then((function(n){r(n.biography),j("eng")})),"chi"===n&&C(y).then((function(n){r(n.biography),j("chi")}))};return Object(M.jsx)(fi,{children:Object(M.jsxs)(Ci,{children:[Object(M.jsxs)(wi,{children:[t.profile_path&&Object(M.jsx)(vi,{style:{backgroundImage:'url("https://image.tmdb.org/t/p/w500'.concat(t.profile_path,'")')}}),Object(M.jsxs)(yi,{children:[Object(M.jsx)("h2",{children:t.name}),t.birthday?Object(M.jsxs)("p",{children:["\u751f\u65e5\uff1a",t.birthday]}):Object(M.jsx)(Di,{children:"\u751f\u65e5\uff1a\u76ee\u524d\u6c92\u6709\u8cc7\u6599"}),t.place_of_birth?Object(M.jsxs)("p",{children:["\u51fa\u751f\u5730\uff1a",t.place_of_birth]}):Object(M.jsx)(Di,{children:"\u51fa\u751f\u5730\uff1a\u76ee\u524d\u6c92\u6709\u8cc7\u6599"})]})]}),Object(M.jsx)(Wi,{$active:"chi"===l,onClick:function(){k("chi")},children:"\u4e2d\u6587\u7248"}),Object(M.jsx)(Wi,{$active:"eng"===l,onClick:function(){k("eng")},children:"\u82f1\u6587\u7248"}),Object(M.jsx)("br",{}),Object(M.jsx)(_i,{children:""===o?"\u66ab\u6642\u6c92\u6709\u8cc7\u6599":o}),Object(M.jsx)(Si,{children:"\u8457\u540d\u96fb\u5f71\uff1a"}),Object(M.jsxs)(ki,{children:[0!==m.length?m.map((function(n){return Object(M.jsx)(zi,{className:"RWD-L",children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),movie:n})},n.id)})):Object(M.jsx)(Di,{children:"\u76ee\u524d\u6c92\u6709\u8cc7\u6599"}),0!==m?m.map((function(n){return Object(M.jsx)(zi,{className:"RWD-S",children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),movie:n},n.id)},n.id)})):Object(M.jsx)("div",{className:"RWD-S",children:Object(M.jsx)(Di,{children:"\u76ee\u524d\u6c92\u6709\u8cc7\u6599"})})]}),Object(M.jsx)(Si,{children:"\u5176\u4ed6\u96fb\u5f71\uff1a"}),Object(M.jsx)(ki,{children:Object(M.jsxs)(Ri,{children:[0!==v.length?Object(M.jsx)("div",{className:"RWD-L",children:Object(M.jsx)(nn,{cols:5,gap:10,children:v&&v.map((function(n){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),movie:n})},n.id)}))})}):Object(M.jsx)("div",{className:"RWD-L",children:Object(M.jsx)(Di,{children:"\u76ee\u524d\u6c92\u6709\u8cc7\u6599"})}),0!==v.length?Object(M.jsx)("div",{className:"RWD-S",children:Object(M.jsx)(nn,{cols:2,gap:10,children:v&&v.map((function(n){return Object(M.jsx)(nn.Item,{children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),movie:n})},n.id)}))})}):Object(M.jsx)("div",{className:"RWD-S",children:Object(M.jsx)(Di,{children:"\u76ee\u524d\u6c92\u6709\u8cc7\u6599"})})]})})]})})}var Mi,Li,Ti,Ii=O.a.div(xi||(xi=Object(g.a)(["\n  color: white;\n  background-image: linear-gradient(rgba(28, 28, 28, 0.7), rgba(28, 28, 28, 0.7)), url('https://images.unsplash.com/photo-1517604931442-7e0c8ed2963c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80');\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-itemsL center;\n  width: 100vw;\n  backdrop-filter: blur(10px);\n  position: relative;\n  input{\n    font-size: ","\n  }\n"])),(function(n){return n.isMobileDevice?"initial":""})),Ei=O.a.div(gi||(gi=Object(g.a)(['\n  background: rgba(0, 0, 0, 0.5);\n  border: 1px solid white;\n  min-width: 20%;\n  min-height: 20%;\n  padding: 5%;\n  position: absolute;\n  top:50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n  font-size: 0.45rem;\n  h2{\n    font-size: 0.7rem;\n  }\n  a{\n    color: white;\n  }\n  input{\n    width: 70%;\n  }\n  input[type="password"] {\n    margin-bottom: 5%;\n  }\n  @media (max-width: 415px) {\n    min-width: 80%;\n    padding: 60px 0;\n    h2{\n      font-size: 20px;\n    }\n    font-size: 16px;\n  }\n  \n']))),Ui=O.a.p(Oi||(Oi=Object(g.a)(["\n  color: red;\n  font-weight: bold;\n"])));function Hi(){var n=Object(b.useState)(""),e=Object(p.a)(n,2),t=e[0],i=e[1],c=Object(b.useState)(""),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)(""),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useContext)(W).setUser,h=Object(x.g)();Object(b.useEffect)((function(){window.scrollTo(0,0)}),[]);var g=function(){var n=Object(D.c)();Object(D.e)(n,D.a).then((function(){return Object(D.f)(n,t,o).then((function(n){var e=n.user;u(e.auth.currentUser),e&&h.push("/")})).catch((function(n){var e=n.code;"auth/wrong-password"===e&&j("\u5bc6\u78bc\u932f\u8aa4"),"auth/user-not-found"===e&&j("\u627e\u4e0d\u5230\u7528\u6236")}))})).catch((function(n){return n}))},O=function(n){"Enter"===n.key&&g()};return Object(M.jsx)(Ii,{isMobileDevice:N(),children:Object(M.jsxs)(Ei,{children:[Object(M.jsx)("h2",{children:"\u767b\u5165"}),Object(M.jsx)("label",{children:"\u5e33\u865f\uff1a"}),Object(M.jsx)("input",{onChange:function(n){i(n.target.value)},onKeyPress:function(n){O(n)},placeholder:"\u96fb\u90f5",type:"email"}),Object(M.jsx)("br",{}),Object(M.jsx)("label",{children:"\u5bc6\u78bc\uff1a"}),Object(M.jsx)("input",{onChange:function(n){r(n.target.value)},onKeyPress:function(n){O(n)},placeholder:"\u5bc6\u78bc",type:"password"}),Object(M.jsx)("br",{}),Object(M.jsx)(Ui,{children:l}),Object(M.jsx)("button",{onClick:g,children:"\u767b\u5165"}),Object(M.jsx)("br",{}),Object(M.jsx)(m.b,{to:"/register",children:"\u9084\u6c92\u6709\u5e33\u865f\u55ce\uff1f\u9ede\u6211\u8a3b\u518a"})]})})}var Pi,Bi,Ai,Fi,Gi,$i,Vi,qi,Ki,Yi,Ji,Xi,Zi=O.a.div(Mi||(Mi=Object(g.a)(["\n  color: white;\n  background-image: linear-gradient(rgba(28, 28, 28, 0.7), rgba(28, 28, 28, 0.7)), url('https://images.unsplash.com/photo-1517604931442-7e0c8ed2963c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80');\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-itemsL center;\n  width: 100vw;\n  backdrop-filter: blur(10px);\n  position: relative;\n  input{\n    font-size: ","\n  }\n"])),(function(n){return n.isMobileDevice?"initial":""})),Qi=O.a.div(Li||(Li=Object(g.a)(["\n  background: rgba(0, 0, 0, 0.5);\n  border: 1px solid white;\n  min-width: 20%;\n  min-height: 20%;\n  padding: 5%;\n  position: absolute;\n  top:50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n  font-size: 0.45rem;\n  h2{\n    font-size: 0.7rem;\n  }\n  a{\n    color: white;\n  }\n  input{\n    width: 70%;\n  }\n\n  @media (max-width: 415px) {\n    min-width: 80%;\n    padding: 60px 0;\n    h2{\n      font-size: 20px;\n    }\n    font-size: 16px;\n  }\n"]))),nc=O.a.p(Ti||(Ti=Object(g.a)(["\n  color: red;\n  font-weight: bold;\n  padding: 5% 0;\n"])));function ec(){var n=Object(b.useState)(""),e=Object(p.a)(n,2),t=e[0],i=e[1],c=Object(b.useState)(""),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)(""),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useState)(""),h=Object(p.a)(u,2),m=h[0],g=h[1],O=Object(b.useContext)(W).setUser,f=Object(x.g)();Object(b.useEffect)((function(){window.scrollTo(0,0)}),[]);var v=function(){var n=Object(D.c)();Object(D.b)(n,t,o).then((function(e){var t=e.user;Object(D.h)(n.currentUser,{displayName:m}).then((function(){})).catch((function(n){return n})),O(t.auth.currentUser),t&&f.push("/")})).catch((function(n){var e=n.code;"auth/invalid-email"===e&&j("\u4fe1\u7bb1\u683c\u5f0f\u932f\u8aa4"),"auth/internal-error"===e&&j("\u5bc6\u78bc\u683c\u5f0f\u932f\u8aa4")}))},w=function(n){"Enter"===n.key&&v()};return Object(M.jsx)(Zi,{isMobileDevice:N(),children:Object(M.jsxs)(Qi,{children:[Object(M.jsx)("h2",{children:"\u8a3b\u518a"}),Object(M.jsx)("label",{children:"\u5e33\u865f\uff1a"}),Object(M.jsx)("input",{onChange:function(n){i(n.target.value)},onKeyPress:function(n){w(n)},placeholder:"\u96fb\u90f5",type:"email"}),Object(M.jsx)("br",{}),Object(M.jsx)("label",{children:"\u5bc6\u78bc\uff1a"}),Object(M.jsx)("input",{onChange:function(n){r(n.target.value)},onKeyPress:function(n){w(n)},placeholder:"\u5bc6\u78bc",type:"password"}),Object(M.jsx)("br",{}),Object(M.jsx)("label",{children:"\u66b1\u7a31\uff1a"}),Object(M.jsx)("input",{onChange:function(n){g(n.target.value)},onKeyPress:function(n){w(n)},placeholder:"\u8acb\u8f38\u5165\u66b1\u7a31",type:"text"}),Object(M.jsx)("br",{}),Object(M.jsx)(nc,{children:l}),Object(M.jsx)("button",{onClick:v,children:"\u8a3b\u518a"})]})})}var tc,ic,cc,ac,oc,rc=O.a.div(Pi||(Pi=Object(g.a)(["\n  background: #1C1C1C;\n  padding-top: 120px;\n  color: white;\n  font-size: 0.5rem;\n"]))),sc=O.a.div(Bi||(Bi=Object(g.a)(["\n  max-width: 60%;\n  margin: 0 auto;\n  .title{\n    padding-top: 5%;\n    padding-bottom: 5%;\n    font-size: 1.5rem;\n    text-align: left;\n    border-bottom: 1px solid white;\n  }\n  @media (max-width: 415px) {\n    max-width: 80%;\n    .title{\n      font-size: 20px;\n    }\n  }\n"]))),dc=O.a.div(Ai||(Ai=Object(g.a)(["\n  display: grid;\n  grid-template-columns: 50% 50%;\n  border-bottom: 1px solid white;\n  @media (max-width: 415px) {\n    grid-template-columns: 30% 70%;\n  }\n"]))),lc=O.a.div(Fi||(Fi=Object(g.a)(["\n  font-size: 0.6rem;\n  p{\n    padding: 5% 0;\n  }\n  @media (max-width: 415px) {\n    font-size: 18px;\n  }\n"]))),bc=O.a.div(Gi||(Gi=Object(g.a)(["\n  font-size: 0.45rem;\n  button{\n    margin-left: 1%;\n    font-size: 0.1rem;\n  }\n  .user-content{\n    padding: 5% 0;\n    line-height: 1.5;\n  }\n  @media (max-width: 415px) {\n    font-size: 14px;\n    button{\n      font-size: 14px;\n    }\n  }\n"]))),jc=O.a.div($i||($i=Object(g.a)(["\n  p{\n    font-size: 1rem;\n    padding: 5% 0;\n  }\n  border-bottom: 1px solid white;\n"]))),uc=O.a.div(Vi||(Vi=Object(g.a)(["\n.favorite-movie{\n  margin: 1%;\n  box-sizing: border-box;\n}\np{\n  font-size: 1rem;\n  padding: 5% 0;\n}\n.RWD-L{\n  display: flex;\n  flex-wrap: wrap;\n  .favorite-movie{\n    width: 22%;\n    margin-right: 5px;\n    margin-bottom: 20px;\n  }\n}\n.RWD-S{\n  display: none;\n}\n margin-bottom: 5%;\n@media (max-width: 415px) {\n  .RWD-S{\n    display: flex;\n    flex-wrap: wrap;\n    .favorite-movie{\n      width: 45%;\n    }\n  }\n  .RWD-L{\n    display: none;\n  }\n}\n\n"]))),hc=O.a.div(qi||(qi=Object(g.a)(["\n display: flex;\n justify-content: center;\n"]))),pc=O.a.div(Ki||(Ki=Object(g.a)(["\n\n padding-bottom: 5%;\n min-width: 100%;\n\n"]))),mc=O.a.div(Yi||(Yi=Object(g.a)(["\n\n  margin: 0 auto;\n"]))),xc=O.a.div(Ji||(Ji=Object(g.a)(["\n  margin-top: 5%;\n"]))),gc=O.a.p(Xi||(Xi=Object(g.a)(["\n  font-size: 1rem;\n  padding: 5% 0;\n"])));function Oc(){var n=Object(b.useState)([]),e=Object(p.a)(n,2),t=e[0],i=e[1],c=Object(b.useState)([]),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)([]),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useState)(!1),h=Object(p.a)(u,2),m=h[0],g=h[1],O=Object(b.useState)(""),f=Object(p.a)(O,2),v=f[0],w=f[1],k=Object(b.useState)(1),_=Object(p.a)(k,2),S=_[0],C=_[1],z=Object(b.useState)(1),R=Object(p.a)(z,2),N=R[0],L=R[1],T=Object(b.useState)(!1),I=Object(p.a)(T,2),E=I[0],U=I[1],H=Object(b.useContext)(W).user,P=Object(x.g)();H||P.push("/login"),Object(b.useEffect)((function(){if(H){window.scrollTo(0,0);var n=Object(K.b)(),e=Object(K.i)(n,"favorite/"+H.uid),t=[];Object(K.d)(e,(function(n){var e=n.val();if(e){t=Object.keys(e);for(var c=[],a=0;a<t.length;a++)c.push(t[a]);i(c)}}));var c=Object(K.h)(Object(K.i)(n,"comments"),Object(K.e)("uid"),Object(K.a)(H.uid));Object(K.d)(c,(function(n){var e=n.val(),t=[];if(e){var i,c=Object.keys(e),a=Math.ceil(c.length/5);L(a),i=c.length>=5?5:c.length;for(var o=0;o<i;o++)t.push(Object(V.a)(Object(V.a)({},e[c[o]]),{},{isHide:!0,id:c[o]}));j(t.reverse())}}))}}),[H]),Object(b.useEffect)((function(){function n(){return(n=Object(q.a)($.a.mark((function n(){var e,i;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:U(!0),e=[],i=0;case 3:if(!(i<t.length)){n.next=9;break}return n.next=6,y(t[i]).then((function(n){e.push(n)}));case 6:i++,n.next=3;break;case 9:r(e),U(!1);case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[t]);var B=function(){m||(H.providerData[0].displayName?w(H.providerData[0].displayName):w("")),g(!m)},A=function(n){j(l.map((function(e){return e.id!==n?e:Object(V.a)(Object(V.a)({},e),{},{isHide:!e.isHide})})))},F=function(n){var e=Object(K.b)(),t=Object(K.h)(Object(K.i)(e,"comments"),Object(K.e)("uid"),Object(K.a)(H.uid));n?Object(K.d)(t,(function(n){var e=n.val(),t=[];if(e){var i,c=Object.keys(e);i=c.length>=5*S+4?5*S+4:c.length;for(var a=5*S;a<i;a++)t.push(Object(V.a)(Object(V.a)({},e[c[a]]),{},{isHide:!0,id:c[a]}));j(t.reverse()),C(S+1)}})):n||Object(K.d)(t,(function(n){var e=n.val(),t=[];if(e){var i,c=Object.keys(e);i=c.length>=5*(S-2)+4?5*(S-2)+4:c.length;for(var a=5*(S-2);a<i;a++)t.push(Object(V.a)(Object(V.a)({},e[c[a]]),{},{isHide:!0,id:c[a]}));j(t.reverse()),C(S-1)}}))};return Object(M.jsxs)(rc,{children:[Object(M.jsx)(Gn,{isLoading:E}),Object(M.jsxs)(sc,{children:[Object(M.jsx)("h2",{className:"title",children:"\u5e33\u6236"}),Object(M.jsxs)(dc,{children:[Object(M.jsx)(lc,{children:Object(M.jsx)("p",{children:"\u6703\u54e1\u8cc7\u6599"})}),Object(M.jsx)(bc,{children:H&&Object(M.jsxs)("div",{className:"user-content",children:[Object(M.jsx)("p",{children:H.email}),Object(M.jsxs)("p",{children:["\u4fe1\u7bb1\u9a57\u8b49\uff1a",H.emailVerified?"\u5df2\u9a57\u8b49":"\u5c1a\u672a\u9a57\u8b49"]}),Object(M.jsxs)(hc,{children:[Object(M.jsxs)("p",{children:["\u66b1\u7a31\uff1a",!m&&(H.providerData[0].displayName?H.providerData[0].displayName:"\u5c1a\u672a\u586b\u5beb")]}),m&&Object(M.jsxs)("div",{children:[Object(M.jsx)("input",{onChange:function(n){!function(n){w(n.target.value)}(n)},type:"text",value:v}),Object(M.jsx)("br",{}),Object(M.jsx)("button",{onClick:function(){var n=Object(D.c)();""!==v.trim()?Object(D.h)(n.currentUser,{displayName:v}).then((function(){g(!1)})).catch((function(n){return n})):alert("\u66b1\u7a31\u4e0d\u53ef\u70ba\u7a7a\u767d")},children:"\u78ba\u8a8d"}),Object(M.jsx)("button",{onClick:B,children:"\u53d6\u6d88"})]}),!m&&Object(M.jsx)("button",{onClick:B,children:"\u4fee\u6539"})]})]})})]}),Object(M.jsxs)(jc,{children:[Object(M.jsx)(gc,{children:"\u559c\u6b61\u5f71\u7247"}),Object(M.jsxs)(uc,{children:[Object(M.jsx)("div",{className:"RWD-L",children:o.map((function(n){return Object(M.jsx)("div",{className:"favorite-movie",children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),isRating:!1,movie:n})},n.id)}))}),Object(M.jsx)("div",{className:"RWD-S",children:o.map((function(n){return Object(M.jsx)("div",{className:"favorite-movie",children:Object(M.jsx)(kn,{id:n.id,imgUrl:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),isRating:!1,movie:n})},n.id)}))})]})]}),Object(M.jsxs)(pc,{children:[Object(M.jsx)(gc,{children:"\u6b77\u53f2\u8a55\u8ad6"}),Object(M.jsx)(mc,{children:0!==l.length?l.map((function(n){return Object(M.jsx)(xe,{comment:n,handleCommentOpen:A,isPosterOpen:!0,isThumbsUpOpen:!0},n.id)})):Object(M.jsx)("p",{children:"\u9084\u6c92\u6709\u4efb\u4f55\u8a55\u8ad6"})}),Object(M.jsxs)(xc,{children:[1!==S&&Object(M.jsx)("button",{onClick:function(){F(!1)},children:"<"}),S,N!==S&&Object(M.jsx)("button",{onClick:function(){F(!0)},children:">"})]})]})]})]})}var fc=O.a.div(tc||(tc=Object(g.a)(["\n  color: white;\n  background-image: linear-gradient(rgba(28, 28, 28, 0.7), rgba(28, 28, 28, 0.7)), url('https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80');\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n\n  width: 100vw;\n  backdrop-filter: blur(10px);\n  padding: 0 0 5% 0;\n  @media (max-width: 415px) {\n    height: auto;\n    padding-bottom: 5%;\n    padding-top: 18%;\n  }\n"]))),vc=O.a.div(ic||(ic=Object(g.a)(["\n  padding-top: 8%;\n  h2{\n    font-size: 1.3rem;\n    margin-bottom: 2%;\n  }\n  p{\n    font-size: 0.7rem;\n  }\n  @media (max-width: 415px) {\n    h2{\n      font-size: 3rem;\n    }\n    p{\n      font-size: 2rem;\n    }\n  }\n"]))),wc=O.a.div(cc||(cc=Object(g.a)(["\n  display: grid;\n  grid-template-columns: 30% 70%;\n  gap: 10%;\n  margin-bottom: 5%;\n  line-height: 1.5;\n  font-size: 0.5rem;\n  text-align: justify;\n  .IMDB, .tomato, .metacritic{\n    width: 100%;\n  }\n  .tomato, .metacritic{\n    background: white;\n    border-radius: 8px;\n    padding: 10% 5%;\n    box-sizing: border-box;\n  }\n  @media (max-width: 415px) {\n    display: block;\n    font-size: 1.7rem;\n    margin-bottom: 20%;\n    text-align: center;\n    .IMDB, .tomato, .metacritic{\n\n      width: 35%;\n    }\n    .tomato, .metacritic{\n      padding: 5% 5%;\n    }\n  }\n"]))),yc=O.a.p(ac||(ac=Object(g.a)(["\n  fon-size: 0.5rem;\n  @media (max-width: 415px) {\n    margin-top: 20%;\n  }\n"]))),kc=O.a.div(oc||(oc=Object(g.a)(["\n  max-width: 50%;\n  margin: 0 auto;\n  margin-top: 5%;\n  "," {\n    margin-bottom: 5%;\n  }\n  @media (max-width: 415px) {\n    max-width: 80%;\n  }\n"])),yc);function _c(){return Object(b.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(M.jsxs)(fc,{children:[Object(M.jsxs)(vc,{children:[Object(M.jsx)("h2",{children:"About"}),Object(M.jsx)("p",{children:"\u627e\u8a55\u5206\uff0cFun\u96fb\u5f71"})]}),Object(M.jsxs)(kc,{children:[Object(M.jsx)(yc,{children:"\u4e09\u5927\u8a55\u5206\u7db2\uff0c\u4e00\u6b21\u6eff\u8db3"}),Object(M.jsxs)(wc,{children:[Object(M.jsx)("img",{alt:"",className:"IMDB",src:"https://upload.wikimedia.org/wikipedia/commons/6/69/IMDB_Logo_2016.svg"}),Object(M.jsx)("p",{children:"IMDb\u7684\u7528\u6236\u5373\u53ef\u4ee5\u4ee5\u300c1\uff5e10\u9846\u661f\u300d\u70ba\u96fb\u5f71\u8a55\u5206\uff0c\u4e4b\u5f8cIMDb\u6703\u4ee5\u6578\u64da\u904e\u6ffe\u6a5f\u5236\u53ca\u6700\u5c0f\u6295\u7968\u6578\u91cf\u7684\u9650\u5236\uff08\u76ee\u524d\u70ba1250\u7968\uff09\u4f86\u8a08\u7b97\u51fa\u4e00\u500b\u52a0\u6b0a\u5e73\u5747\u661f\u6578\u4f5c\u70ba\u8a55\u5206\u3002 \u56e0\u70baIMDb\u4ee5\u7d93\u5e38\u6295\u7968\u7684\u7528\u6236\u4f86\u8a08\u7968\uff0c\u6240\u4ee5\u8a55\u5206\u7b97\u662f\u5177\u5ba2\u89c0\u53c3\u8003\u50f9\u503c\u3002"})]}),Object(M.jsxs)(wc,{children:[Object(M.jsx)("img",{alt:"",className:"tomato",src:"https://upload.wikimedia.org/wikipedia/commons/6/6f/Rotten_Tomatoes_logo.svg"}),Object(M.jsx)("p",{children:"\u721b\u756a\u8304\u7684\u5de5\u4f5c\u4eba\u54e1\u6703\u8ffd\u8e64\u6bcf\u4e00\u90e8\u5f71\u7247\u7684\u6240\u6709\u8a55\u8ad6\u5167\u5bb9\uff0c\u7136\u5f8c\u4f7f\u7528\u4f7f\u7528\u6574\u5408\u8cc7\u6599\u7684\u7a4d\u5206\u4f86\u904b\u7b97\uff0c\u8a55\u8ad6\u6b63\u9762\u6216\u8ca0\u9762\u7684\u65b0\u9bae\u5ea6\u3002\u7576\u8d85\u904e60\uff05\uff0c\u5373\u6703\u5f97\u5230\u4e00\u500b\u9bae\u7d05\u7684\u756a\u8304\u4f5c\u70ba\u6a19\u8a18\uff0c\u7576\u4f4e\u65bc60\uff05\uff0c\u5247\u6703\u5f97\u5230\u7da0\u8272\u88ab\u7838\u721b\u7684\u756a\u8304\u4f5c\u70ba\u6a19\u8a18\u3002"})]}),Object(M.jsxs)(wc,{children:[Object(M.jsx)("img",{alt:"",className:"metacritic",src:"https://upload.wikimedia.org/wikipedia/commons/4/48/Metacritic_logo.svg"}),Object(M.jsx)("p",{children:"Metacritic\u662f\u4e00\u500b\u5c08\u9580\u6536\u96c6\u5c0d\u65bc\u96fb\u5f71\u3001\u96fb\u8996\u7bc0\u76ee\u3001\u97f3\u6a02\u5c08\u8f2f\u3001\u904a\u6232\u7684\u8a55\u8ad6\u7684\u7db2\u7ad9\uff0c\u7db2\u7ad9\u6703\u6574\u5408\u6bcf\u500b\u8a55\u50f9\u7684\u5206\u6578\u518d\u505a\u51fa\u4e00\u500b\u7e3d\u8a55\u5206\u4f5c\u70ba\u9019\u500b\u9805\u76ee\u7684\u8a55\u5206\uff0c\u5728\u9805\u76ee\u7684\u591a\u9805\u77ed\u8a55\u4e2d\uff0c\u5f9e\u6700\u597d\u7684\u5206\u6578\u5230\u6700\u58de\u7684\u5206\u6578\u7531\u4e0b\u6392\u5217\uff0c\u6700\u597d\u7684\u8a55\u50f9\u5206\u6578\u662f\u7da0\u8272\u5230\u6700\u4f4e\u7684\u8a55\u50f9\u5206\u6578\u7684\u9ec3\u8272\u3001\u7d05\u8272\u6392\u5217\u3002"})]})]})]})}var Sc,Cc,zc={apiKey:"AIzaSyAeGB1c7DrLqz2qCRxCeE5KLG01zFHJ7BE",authDomain:"movieproject-9c874.firebaseapp.com",databaseURL:"https://movieproject-9c874-default-rtdb.firebaseio.com",projectId:"movieproject-9c874",storageBucket:"movieproject-9c874.appspot.com",messagingSenderId:"324525504042",appId:"1:324525504042:web:5d72e2978e40cce4347553",measurementId:"G-FBP5RRRJM3"},Rc=t(65),Dc=t(66),Wc=t(37),Nc=O.a.div(Sc||(Sc=Object(g.a)(["\n  background: #1C1C1C;\n  color: white;\n  padding: 40px 0;\n  padding-top: 10%;\n  font-size: 0.5rem;\n  @media (max-width: 415px) {\n    font-size: 14px;\n  }\n"]))),Mc=O.a.div(Cc||(Cc=Object(g.a)(["\n  font-size: 1rem;\n  svg{\n    padding: 10px;\n  }\n  a{\n    color: white;\n  }\n  @media (max-width: 415px) {\n    font-size: 18px;\n  }\n"])));function Lc(){return Object(M.jsxs)(Nc,{children:[Object(M.jsxs)(Mc,{children:[Object(M.jsx)("a",{href:"https://github.com/rj603295",rel:"noreferrer",target:"_blank",children:Object(M.jsx)(z.a,{icon:Wc.b})}),Object(M.jsx)("a",{href:"https://github.com/rj603295",rel:"noreferrer",target:"_blank",children:Object(M.jsx)(z.a,{icon:Wc.a})}),Object(M.jsx)("a",{href:"https://github.com/rj603295",rel:"noreferrer",target:"_blank",children:Object(M.jsx)(z.a,{icon:Wc.c})}),Object(M.jsx)("a",{href:"https://github.com/rj603295",rel:"noreferrer",target:"_blank",children:Object(M.jsx)(z.a,{icon:Wc.d})}),Object(M.jsx)("a",{href:"https://github.com/rj603295",rel:"noreferrer",target:"_blank",children:Object(M.jsx)(z.a,{icon:Wc.e})})]}),Object(M.jsx)(z.a,{icon:Dc.a}),Object(M.jsx)("span",{children:"  2021 - Moive Fun Inc."})]})}var Tc=function(){var n=Object(b.useState)(null),e=Object(p.a)(n,2),t=e[0],i=e[1],c=Object(b.useState)(!1),a=Object(p.a)(c,2),o=a[0],r=a[1],s=Object(b.useState)({}),d=Object(p.a)(s,2),l=d[0],j=d[1],u=Object(b.useRef)(0);Object(Rc.a)(zc);var h=Object(K.b)(),g=Object(D.c)();return Object(D.d)(g,(function(n){n&&i(n.auth.currentUser)})),window.addEventListener("scroll",(function(){!function(){var n=window.scrollY;n<u?r(!1):n>u&&r(!0),u=n}()})),Object(b.useEffect)((function(){t&&function(){var n=Object(K.i)(h,"favorite/"+t.uid);Object(K.d)(n,(function(n){var e=n.val();j(e)}))}()}),[t]),Object(M.jsx)(W.Provider,{value:{user:t,setUser:i,userFavorite:l},children:Object(M.jsx)("div",{className:"App",children:Object(M.jsxs)(m.a,{children:[Object(M.jsx)(F,{className:"header",isHide:o}),Object(M.jsxs)(x.d,{children:[Object(M.jsx)(x.b,{exact:!0,path:"/",children:Object(M.jsx)(Le,{})}),Object(M.jsx)(x.b,{exact:!0,path:"/movie/:id",children:Object(M.jsx)(Rt,{})}),Object(M.jsx)(x.b,{exact:!0,path:"/search/genre/:id",children:Object(M.jsx)($t,{})}),Object(M.jsx)(x.b,{exact:!0,path:"/search/movie/:query",children:Object(M.jsx)(mi,{})}),Object(M.jsx)(x.b,{exact:!0,path:"/credit/:id",children:Object(M.jsx)(Ni,{})}),Object(M.jsx)(x.b,{exact:!0,path:"/login",children:t?Object(M.jsx)(x.a,{to:"/"}):Object(M.jsx)(Hi,{})}),Object(M.jsx)(x.b,{exact:!0,path:"/register",children:Object(M.jsx)(ec,{})}),Object(M.jsx)(x.b,{exact:!0,path:"/member",children:Object(M.jsx)(Oc,{})}),Object(M.jsx)(x.b,{exact:!0,path:"/about",children:Object(M.jsx)(_c,{})})]}),Object(M.jsx)(Lc,{})]})})})},Ic=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,102)).then((function(e){var t=e.getCLS,i=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;t(n),i(n),c(n),a(n),o(n)}))};h.a.render(Object(M.jsx)(j.a.StrictMode,{children:Object(M.jsx)(rt.b,{children:Object(M.jsx)(Tc,{})})}),document.getElementById("root")),Ic()},71:function(n,e,t){},72:function(n,e,t){},73:function(n,e,t){},82:function(n,e,t){}},[[101,1,2]]]);
//# sourceMappingURL=main.a4c9bf58.chunk.js.map